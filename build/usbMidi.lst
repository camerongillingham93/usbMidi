ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"usbMidi.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  19              		.align	1
  20              		.p2align 2,,3
  21              		.weak	_ZN5daisy9DaisySeedD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy9DaisySeedD2Ev:
  27              	.LVL0:
  28              	.LFB2529:
  29              		.file 1 "../../../libDaisy/src/daisy_seed.h"
   1:../../../libDaisy/src/daisy_seed.h **** #pragma once
   2:../../../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../../libDaisy/src/daisy_seed.h **** 
   5:../../../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../../libDaisy/src/daisy_seed.h **** 
   7:../../../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../../libDaisy/src/daisy_seed.h **** 
  10:../../../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../../../libDaisy/src/daisy_seed.h **** {
  12:../../../libDaisy/src/daisy_seed.h **** /**
  13:../../../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../../libDaisy/src/daisy_seed.h **** 
  16:../../../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../../libDaisy/src/daisy_seed.h **** */
  18:../../../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../../../libDaisy/src/daisy_seed.h **** {
  20:../../../libDaisy/src/daisy_seed.h ****   public:
  21:../../../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  30              		.loc 1 22 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB143:
  36              	.LBI143:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 2


  37              		.file 2 "../../../libDaisy/src/sys/system.h"
   1:../../../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../../libDaisy/src/sys/system.h **** 
   4:../../../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../../libDaisy/src/sys/system.h **** 
   6:../../../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../../../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../../libDaisy/src/sys/system.h **** 
   9:../../../libDaisy/src/sys/system.h **** namespace daisy
  10:../../../libDaisy/src/sys/system.h **** {
  11:../../../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../../libDaisy/src/sys/system.h ****  **
  15:../../../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../../../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../../../libDaisy/src/sys/system.h ****  */
  18:../../../libDaisy/src/sys/system.h **** class System
  19:../../../libDaisy/src/sys/system.h **** {
  20:../../../libDaisy/src/sys/system.h ****   public:
  21:../../../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../../libDaisy/src/sys/system.h ****     struct Config
  23:../../../libDaisy/src/sys/system.h ****     {
  24:../../../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../../libDaisy/src/sys/system.h ****         {
  27:../../../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../../libDaisy/src/sys/system.h ****         };
  30:../../../libDaisy/src/sys/system.h **** 
  31:../../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../../libDaisy/src/sys/system.h ****          ** Cache Enabled 
  34:../../../libDaisy/src/sys/system.h ****          ** */
  35:../../../libDaisy/src/sys/system.h ****         void Defaults()
  36:../../../libDaisy/src/sys/system.h ****         {
  37:../../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../../../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../../../libDaisy/src/sys/system.h ****         }
  42:../../../libDaisy/src/sys/system.h **** 
  43:../../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../../libDaisy/src/sys/system.h ****          ** Cache Enabled 
  46:../../../libDaisy/src/sys/system.h ****          ** */
  47:../../../libDaisy/src/sys/system.h ****         void Boost()
  48:../../../libDaisy/src/sys/system.h ****         {
  49:../../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../../../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../../../libDaisy/src/sys/system.h ****         }
  54:../../../libDaisy/src/sys/system.h **** 
  55:../../../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../../libDaisy/src/sys/system.h ****         bool       use_dcache;
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 3


  57:../../../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../../../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../../../libDaisy/src/sys/system.h ****     };
  60:../../../libDaisy/src/sys/system.h **** 
  61:../../../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../../libDaisy/src/sys/system.h ****      * 
  63:../../../libDaisy/src/sys/system.h ****      */
  64:../../../libDaisy/src/sys/system.h ****     enum MemoryRegion
  65:../../../libDaisy/src/sys/system.h ****     {
  66:../../../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../../libDaisy/src/sys/system.h ****         ITCMRAM,
  68:../../../libDaisy/src/sys/system.h ****         DTCMRAM,
  69:../../../libDaisy/src/sys/system.h ****         SRAM_D1,
  70:../../../libDaisy/src/sys/system.h ****         SRAM_D2,
  71:../../../libDaisy/src/sys/system.h ****         SRAM_D3,
  72:../../../libDaisy/src/sys/system.h ****         SDRAM,
  73:../../../libDaisy/src/sys/system.h ****         QSPI,
  74:../../../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  75:../../../libDaisy/src/sys/system.h ****     };
  76:../../../libDaisy/src/sys/system.h **** 
  77:../../../libDaisy/src/sys/system.h ****     System() {}
  78:../../../libDaisy/src/sys/system.h ****     ~System() {}
  38              		.loc 2 78 5 view .LVU1
  39              		.loc 2 78 5 is_stmt 0 view .LVU2
  40              	.LBE143:
  41              	.LBB144:
  42              	.LBI144:
  43              		.file 3 "../../../libDaisy/src/hid/usb.h"
   1:../../../libDaisy/src/hid/usb.h **** #pragma once
   2:../../../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../../libDaisy/src/hid/usb.h **** 
   7:../../../libDaisy/src/hid/usb.h **** namespace daisy
   8:../../../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../../../libDaisy/src/hid/usb.h ****     @{
  10:../../../libDaisy/src/hid/usb.h **** */
  11:../../../libDaisy/src/hid/usb.h **** 
  12:../../../libDaisy/src/hid/usb.h **** {
  13:../../../libDaisy/src/hid/usb.h **** /** 
  14:../../../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../../../libDaisy/src/hid/usb.h **** */
  18:../../../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../../../libDaisy/src/hid/usb.h **** {
  20:../../../libDaisy/src/hid/usb.h ****   public:
  21:../../../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../../libDaisy/src/hid/usb.h ****     enum class Result
  23:../../../libDaisy/src/hid/usb.h ****     {
  24:../../../libDaisy/src/hid/usb.h ****         OK,
  25:../../../libDaisy/src/hid/usb.h ****         ERR,
  26:../../../libDaisy/src/hid/usb.h ****     };
  27:../../../libDaisy/src/hid/usb.h **** 
  28:../../../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../../libDaisy/src/hid/usb.h ****     enum UsbPeriph
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 4


  30:../../../libDaisy/src/hid/usb.h ****     {
  31:../../../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../../libDaisy/src/hid/usb.h ****     };
  35:../../../libDaisy/src/hid/usb.h **** 
  36:../../../libDaisy/src/hid/usb.h **** 
  37:../../../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../../libDaisy/src/hid/usb.h **** 
  40:../../../libDaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../../../libDaisy/src/hid/usb.h **** 
  42:../../../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
  44              		.loc 3 42 5 is_stmt 1 view .LVU3
  45              		.loc 3 42 5 is_stmt 0 view .LVU4
  46              	.LBE144:
  47              	.LBB145:
  48              	.LBI145:
  49              		.file 4 "../../../libDaisy/src/per/adc.h"
   1:../../../libDaisy/src/per/adc.h **** #pragma once
   2:../../../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../../../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../../../libDaisy/src/per/adc.h **** 
   9:../../../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../../libDaisy/src/per/adc.h **** 
  11:../../../libDaisy/src/per/adc.h **** namespace daisy
  12:../../../libDaisy/src/per/adc.h **** {
  13:../../../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../../../libDaisy/src/per/adc.h ****     @{
  15:../../../libDaisy/src/per/adc.h **** */
  16:../../../libDaisy/src/per/adc.h **** 
  17:../../../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../../libDaisy/src/per/adc.h **** */
  21:../../../libDaisy/src/per/adc.h **** 
  22:../../../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../../libDaisy/src/per/adc.h ****  *           one channel.
  26:../../../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../../../libDaisy/src/per/adc.h **** */
  31:../../../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../../../libDaisy/src/per/adc.h **** {
  33:../../../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../../../libDaisy/src/per/adc.h ****     {
  36:../../../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 5


  39:../../../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../../libDaisy/src/per/adc.h ****     };
  41:../../../libDaisy/src/per/adc.h **** 
  42:../../../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  44:../../../libDaisy/src/per/adc.h ****      */
  45:../../../libDaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../../../libDaisy/src/per/adc.h **** 
  47:../../../libDaisy/src/per/adc.h ****     /** 
  48:../../../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  55:../../../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../../libDaisy/src/per/adc.h ****     \param adc_pin &
  58:../../../libDaisy/src/per/adc.h ****     */
  59:../../../libDaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../../../libDaisy/src/per/adc.h ****                  size_t       mux_channels,
  61:../../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../../libDaisy/src/per/adc.h **** 
  65:../../../libDaisy/src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../../libDaisy/src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  67:../../../libDaisy/src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../../libDaisy/src/per/adc.h **** };
  69:../../../libDaisy/src/per/adc.h **** 
  70:../../../libDaisy/src/per/adc.h **** /**
  71:../../../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../../libDaisy/src/per/adc.h **** */
  73:../../../libDaisy/src/per/adc.h **** class AdcHandle
  74:../../../libDaisy/src/per/adc.h **** {
  75:../../../libDaisy/src/per/adc.h ****   public:
  76:../../../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../../libDaisy/src/per/adc.h ****     enum OverSampling
  78:../../../libDaisy/src/per/adc.h ****     {
  79:../../../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  81:../../../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  82:../../../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
  83:../../../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
  84:../../../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
  85:../../../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
  86:../../../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
  87:../../../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
  88:../../../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
  89:../../../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../../libDaisy/src/per/adc.h ****     };
  91:../../../libDaisy/src/per/adc.h **** 
  92:../../../libDaisy/src/per/adc.h ****     AdcHandle() {}
  93:../../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
  50              		.loc 4 93 5 is_stmt 1 view .LVU5
  51              		.loc 4 93 5 is_stmt 0 view .LVU6
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 6


  52              	.LBE145:
  53              	.LBB146:
  54              	.LBI146:
  55              		.file 5 "../../../libDaisy/src/hid/audio.h"
   1:../../../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../../libDaisy/src/hid/audio.h **** 
   4:../../../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../../libDaisy/src/hid/audio.h **** 
   6:../../../libDaisy/src/hid/audio.h **** namespace daisy
   7:../../../libDaisy/src/hid/audio.h **** {
   8:../../../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../../../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../../../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../../libDaisy/src/hid/audio.h ****  */
  22:../../../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../../../libDaisy/src/hid/audio.h **** {
  24:../../../libDaisy/src/hid/audio.h ****   public:
  25:../../../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../../libDaisy/src/hid/audio.h ****     struct Config
  28:../../../libDaisy/src/hid/audio.h ****     {
  29:../../../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../../libDaisy/src/hid/audio.h ****         size_t blocksize;
  31:../../../libDaisy/src/hid/audio.h **** 
  32:../../../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../../libDaisy/src/hid/audio.h **** 
  35:../../../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../../libDaisy/src/hid/audio.h ****         float postgain;
  37:../../../libDaisy/src/hid/audio.h **** 
  38:../../../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../../libDaisy/src/hid/audio.h ****          */
  41:../../../libDaisy/src/hid/audio.h ****         float output_compensation;
  42:../../../libDaisy/src/hid/audio.h **** 
  43:../../../libDaisy/src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../../libDaisy/src/hid/audio.h ****         Config()
  45:../../../libDaisy/src/hid/audio.h ****         : blocksize(48),
  46:../../../libDaisy/src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../../libDaisy/src/hid/audio.h ****           postgain(1.f),
  48:../../../libDaisy/src/hid/audio.h ****           output_compensation(1.f)
  49:../../../libDaisy/src/hid/audio.h ****         {
  50:../../../libDaisy/src/hid/audio.h ****         }
  51:../../../libDaisy/src/hid/audio.h ****     };
  52:../../../libDaisy/src/hid/audio.h **** 
  53:../../../libDaisy/src/hid/audio.h ****     enum class Result
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 7


  54:../../../libDaisy/src/hid/audio.h ****     {
  55:../../../libDaisy/src/hid/audio.h ****         OK,
  56:../../../libDaisy/src/hid/audio.h ****         ERR,
  57:../../../libDaisy/src/hid/audio.h ****     };
  58:../../../libDaisy/src/hid/audio.h **** 
  59:../../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../../libDaisy/src/hid/audio.h ****      */
  63:../../../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../../libDaisy/src/hid/audio.h **** 
  65:../../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../../libDaisy/src/hid/audio.h ****      */
  68:../../../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../../libDaisy/src/hid/audio.h **** 
  70:../../../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../../libDaisy/src/hid/audio.h ****      */
  73:../../../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  75:../../../libDaisy/src/hid/audio.h ****                                   size_t       size);
  76:../../../libDaisy/src/hid/audio.h **** 
  77:../../../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../../libDaisy/src/hid/audio.h ****     */
  81:../../../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../../libDaisy/src/hid/audio.h **** 
  83:../../../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../../libDaisy/src/hid/audio.h ****     */
  86:../../../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../../libDaisy/src/hid/audio.h **** 
  88:../../../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../../libDaisy/src/hid/audio.h ****      */
  91:../../../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  94:../../../libDaisy/src/hid/audio.h **** 
  95:../../../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
  56              		.loc 5 96 5 is_stmt 1 view .LVU7
  57              		.loc 5 96 5 is_stmt 0 view .LVU8
  58              	.LBE146:
  59              		.loc 1 22 19 view .LVU9
  60 0000 7047     		bx	lr
  61              		.cfi_endproc
  62              	.LFE2529:
  64              		.weak	_ZN5daisy9DaisySeedD1Ev
  65              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  66 0002 00BF     		.section	.text._ZN7daisysp10OscillatorD2Ev,"axG",%progbits,_ZN7daisysp10OscillatorD5Ev,comdat
  67              		.align	1
  68              		.p2align 2,,3
  69              		.weak	_ZN7daisysp10OscillatorD2Ev
  70              		.syntax unified
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 8


  71              		.thumb
  72              		.thumb_func
  74              	_ZN7daisysp10OscillatorD2Ev:
  75              	.LVL1:
  76              	.LFB4219:
  77              		.file 6 "../../../DaisySP/Source/Synthesis/oscillator.h"
   1:../../../DaisySP/Source/Synthesis/oscillator.h **** #pragma once
   2:../../../DaisySP/Source/Synthesis/oscillator.h **** #ifndef DSY_OSCILLATOR_H
   3:../../../DaisySP/Source/Synthesis/oscillator.h **** #define DSY_OSCILLATOR_H
   4:../../../DaisySP/Source/Synthesis/oscillator.h **** #include <stdint.h>
   5:../../../DaisySP/Source/Synthesis/oscillator.h **** #include "Utility/dsp.h"
   6:../../../DaisySP/Source/Synthesis/oscillator.h **** #ifdef __cplusplus
   7:../../../DaisySP/Source/Synthesis/oscillator.h **** 
   8:../../../DaisySP/Source/Synthesis/oscillator.h **** namespace daisysp
   9:../../../DaisySP/Source/Synthesis/oscillator.h **** {
  10:../../../DaisySP/Source/Synthesis/oscillator.h **** /** Synthesis of several waveforms, including polyBLEP bandlimited waveforms.
  11:../../../DaisySP/Source/Synthesis/oscillator.h **** */
  12:../../../DaisySP/Source/Synthesis/oscillator.h **** class Oscillator
  13:../../../DaisySP/Source/Synthesis/oscillator.h **** {
  14:../../../DaisySP/Source/Synthesis/oscillator.h ****   public:
  15:../../../DaisySP/Source/Synthesis/oscillator.h ****     Oscillator() {}
  16:../../../DaisySP/Source/Synthesis/oscillator.h ****     ~Oscillator() {}
  78              		.loc 6 16 5 is_stmt 1 view -0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
  82              		@ link register save eliminated.
  83              		.loc 6 16 20 is_stmt 0 view .LVU11
  84 0000 7047     		bx	lr
  85              		.cfi_endproc
  86              	.LFE4219:
  88              		.weak	_ZN7daisysp10OscillatorD1Ev
  89              		.thumb_set _ZN7daisysp10OscillatorD1Ev,_ZN7daisysp10OscillatorD2Ev
  90 0002 00BF     		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev,"axG",%progbits,_ZN5daisy11MidiH
  91              		.align	1
  92              		.p2align 2,,3
  93              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  98              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:
  99              	.LVL2:
 100              	.LFB5370:
 101              		.file 7 "../../../libDaisy/src/hid/midi.h"
   1:../../../libDaisy/src/hid/midi.h **** #pragma once
   2:../../../libDaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../../libDaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../../../libDaisy/src/hid/midi.h **** 
   5:../../../libDaisy/src/hid/midi.h **** // TODO: make this adjustable
   6:../../../libDaisy/src/hid/midi.h **** #define SYSEX_BUFFER_LEN 128
   7:../../../libDaisy/src/hid/midi.h **** 
   8:../../../libDaisy/src/hid/midi.h **** #include <stdint.h>
   9:../../../libDaisy/src/hid/midi.h **** #include <stdlib.h>
  10:../../../libDaisy/src/hid/midi.h **** #include "per/uart.h"
  11:../../../libDaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  12:../../../libDaisy/src/hid/midi.h **** #include "hid/MidiEvent.h"
  13:../../../libDaisy/src/hid/midi.h **** #include "hid/usb_midi.h"
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 9


  14:../../../libDaisy/src/hid/midi.h **** #include "sys/system.h"
  15:../../../libDaisy/src/hid/midi.h **** 
  16:../../../libDaisy/src/hid/midi.h **** namespace daisy
  17:../../../libDaisy/src/hid/midi.h **** {
  18:../../../libDaisy/src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART 
  19:../../../libDaisy/src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../../libDaisy/src/hid/midi.h ****  *  @ingroup midi
  21:../../../libDaisy/src/hid/midi.h **** */
  22:../../../libDaisy/src/hid/midi.h **** class MidiUartTransport
  23:../../../libDaisy/src/hid/midi.h **** {
  24:../../../libDaisy/src/hid/midi.h ****   public:
  25:../../../libDaisy/src/hid/midi.h ****     MidiUartTransport() {}
  26:../../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  27:../../../libDaisy/src/hid/midi.h **** 
  28:../../../libDaisy/src/hid/midi.h ****     struct Config
  29:../../../libDaisy/src/hid/midi.h ****     {
  30:../../../libDaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  31:../../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    rx;
  32:../../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    tx;
  33:../../../libDaisy/src/hid/midi.h **** 
  34:../../../libDaisy/src/hid/midi.h ****         Config()
  35:../../../libDaisy/src/hid/midi.h ****         {
  36:../../../libDaisy/src/hid/midi.h ****             periph = UartHandler::Config::Peripheral::USART_1;
  37:../../../libDaisy/src/hid/midi.h ****             rx     = {DSY_GPIOB, 7};
  38:../../../libDaisy/src/hid/midi.h ****             tx     = {DSY_GPIOB, 6};
  39:../../../libDaisy/src/hid/midi.h ****         }
  40:../../../libDaisy/src/hid/midi.h ****     };
  41:../../../libDaisy/src/hid/midi.h **** 
  42:../../../libDaisy/src/hid/midi.h ****     inline void Init(Config config)
  43:../../../libDaisy/src/hid/midi.h ****     {
  44:../../../libDaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  45:../../../libDaisy/src/hid/midi.h **** 
  46:../../../libDaisy/src/hid/midi.h ****         //defaults
  47:../../../libDaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  48:../../../libDaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  49:../../../libDaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  50:../../../libDaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  51:../../../libDaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  52:../../../libDaisy/src/hid/midi.h **** 
  53:../../../libDaisy/src/hid/midi.h ****         //user settings
  54:../../../libDaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  55:../../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  56:../../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  57:../../../libDaisy/src/hid/midi.h **** 
  58:../../../libDaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  59:../../../libDaisy/src/hid/midi.h ****     }
  60:../../../libDaisy/src/hid/midi.h **** 
  61:../../../libDaisy/src/hid/midi.h ****     inline void    StartRx() { uart_.StartRx(); }
  62:../../../libDaisy/src/hid/midi.h ****     inline size_t  Readable() { return uart_.Readable(); }
  63:../../../libDaisy/src/hid/midi.h ****     inline uint8_t Rx() { return uart_.PopRx(); }
  64:../../../libDaisy/src/hid/midi.h ****     inline bool    RxActive() { return uart_.RxActive(); }
  65:../../../libDaisy/src/hid/midi.h ****     inline void    FlushRx() { uart_.FlushRx(); }
  66:../../../libDaisy/src/hid/midi.h ****     inline void    Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
  67:../../../libDaisy/src/hid/midi.h **** 
  68:../../../libDaisy/src/hid/midi.h ****   private:
  69:../../../libDaisy/src/hid/midi.h ****     UartHandler uart_;
  70:../../../libDaisy/src/hid/midi.h **** };
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 10


  71:../../../libDaisy/src/hid/midi.h **** 
  72:../../../libDaisy/src/hid/midi.h **** /** 
  73:../../../libDaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n 
  74:../../../libDaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n 
  75:../../../libDaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
  76:../../../libDaisy/src/hid/midi.h ****     @author shensley
  77:../../../libDaisy/src/hid/midi.h ****     @date March 2020
  78:../../../libDaisy/src/hid/midi.h ****     @ingroup midi
  79:../../../libDaisy/src/hid/midi.h **** */
  80:../../../libDaisy/src/hid/midi.h **** template <typename Transport>
  81:../../../libDaisy/src/hid/midi.h **** class MidiHandler
  82:../../../libDaisy/src/hid/midi.h **** {
  83:../../../libDaisy/src/hid/midi.h ****   public:
  84:../../../libDaisy/src/hid/midi.h ****     MidiHandler() {}
  85:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 102              		.loc 7 85 5 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		@ link register save eliminated.
 107              	.LBB147:
 108              	.LBI147:
 109              		.file 8 "../../../libDaisy/src/hid/usb_midi.h"
   1:../../../libDaisy/src/hid/usb_midi.h **** #pragma once
   2:../../../libDaisy/src/hid/usb_midi.h **** #ifndef __DSY_MIDIUSBTRANSPORT_H__
   3:../../../libDaisy/src/hid/usb_midi.h **** #define __DSY_MIDIUSBTRANSPORT_H__
   4:../../../libDaisy/src/hid/usb_midi.h **** 
   5:../../../libDaisy/src/hid/usb_midi.h **** #include "hid/usb.h"
   6:../../../libDaisy/src/hid/usb_midi.h **** #include "sys/system.h"
   7:../../../libDaisy/src/hid/usb_midi.h **** #include "util/ringbuffer.h"
   8:../../../libDaisy/src/hid/usb_midi.h **** 
   9:../../../libDaisy/src/hid/usb_midi.h **** namespace daisy
  10:../../../libDaisy/src/hid/usb_midi.h **** {
  11:../../../libDaisy/src/hid/usb_midi.h **** /** @brief USB Transport for MIDI 
  12:../../../libDaisy/src/hid/usb_midi.h ****  *  @ingroup midi
  13:../../../libDaisy/src/hid/usb_midi.h ****  */
  14:../../../libDaisy/src/hid/usb_midi.h **** class MidiUsbTransport
  15:../../../libDaisy/src/hid/usb_midi.h **** {
  16:../../../libDaisy/src/hid/usb_midi.h ****   public:
  17:../../../libDaisy/src/hid/usb_midi.h ****     // MidiUsbTransport() {}
  18:../../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 110              		.loc 8 18 5 view .LVU13
 111              		.loc 8 18 5 is_stmt 0 view .LVU14
 112              	.LBE147:
 113              		.loc 7 85 21 view .LVU15
 114 0000 7047     		bx	lr
 115              		.cfi_endproc
 116              	.LFE5370:
 118              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 119              		.thumb_set _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev,_ZN5daisy11MidiHandlerINS_16MidiUsbT
 120 0002 00BF     		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 121              		.align	1
 122              		.p2align 2,,3
 123              		.global	_Z13AudioCallbackPKPKfPPfj
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 11


 128              	_Z13AudioCallbackPKPKfPPfj:
 129              	.LVL3:
 130              	.LFB4789:
 131              		.file 9 "usbMidi.cpp"
   1:usbMidi.cpp   **** /** Simple example of using USB MIDI 
   2:usbMidi.cpp   ****  * 
   3:usbMidi.cpp   ****  *  When the project boots up, a 100Hz sine wave will emit from both outputs,
   4:usbMidi.cpp   ****  *  and the Daisy should appear as an Audio/MIDI device on a connected host.
   5:usbMidi.cpp   ****  * 
   6:usbMidi.cpp   ****  *  To keep the example short, only note on messages are handled, and there
   7:usbMidi.cpp   ****  *  is only a single oscillator voice that tracks the most recent note message.
   8:usbMidi.cpp   ****  */
   9:usbMidi.cpp   **** #include "daisy_seed.h"
  10:usbMidi.cpp   **** #include "daisysp.h"
  11:usbMidi.cpp   **** 
  12:usbMidi.cpp   **** using namespace daisy;
  13:usbMidi.cpp   **** using namespace daisysp;
  14:usbMidi.cpp   **** 
  15:usbMidi.cpp   **** DaisySeed      hw;
  16:usbMidi.cpp   **** MidiUsbHandler midi;
  17:usbMidi.cpp   **** Oscillator     osc;
  18:usbMidi.cpp   **** 
  19:usbMidi.cpp   **** void AudioCallback(AudioHandle::InputBuffer  in,
  20:usbMidi.cpp   ****                    AudioHandle::OutputBuffer out,
  21:usbMidi.cpp   ****                    size_t                    size)
  22:usbMidi.cpp   **** {
 132              		.loc 9 22 1 is_stmt 1 view -0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 0
 135              		@ frame_needed = 0, uses_anonymous_args = 0
  23:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 136              		.loc 9 23 5 view .LVU17
 137              	.LBB148:
 138              		.loc 9 23 25 view .LVU18
 139 0000 B2B1     		cbz	r2, .L13
 140              	.LBE148:
  22:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 141              		.loc 9 22 1 is_stmt 0 view .LVU19
 142 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 143              		.cfi_def_cfa_offset 24
 144              		.cfi_offset 4, -24
 145              		.cfi_offset 5, -20
 146              		.cfi_offset 6, -16
 147              		.cfi_offset 7, -12
 148              		.cfi_offset 8, -8
 149              		.cfi_offset 14, -4
 150 0006 0E46     		mov	r6, r1
 151 0008 9046     		mov	r8, r2
 152              	.LBB149:
 153              		.loc 9 23 16 view .LVU20
 154 000a 0024     		movs	r4, #0
 155              	.LVL4:
 156              	.L7:
  24:usbMidi.cpp   ****         out[0][i] = out[1][i] = osc.Process();
 157              		.loc 9 24 9 is_stmt 1 discriminator 2 view .LVU21
 158              		.loc 9 24 29 is_stmt 0 discriminator 2 view .LVU22
 159 000c 7568     		ldr	r5, [r6, #4]
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 12


 160 000e A700     		lsls	r7, r4, #2
 161              		.loc 9 24 44 discriminator 2 view .LVU23
 162 0010 0848     		ldr	r0, .L16
 163 0012 FFF7FEFF 		bl	_ZN7daisysp10Oscillator7ProcessEv
 164              	.LVL5:
 165              		.loc 9 24 19 discriminator 2 view .LVU24
 166 0016 3368     		ldr	r3, [r6]
 167              		.loc 9 24 29 discriminator 2 view .LVU25
 168 0018 05EB8405 		add	r5, r5, r4, lsl #2
  23:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 169              		.loc 9 23 5 discriminator 2 view .LVU26
 170 001c 0134     		adds	r4, r4, #1
 171              	.LVL6:
 172              		.loc 9 24 19 discriminator 2 view .LVU27
 173 001e 3B44     		add	r3, r3, r7
  23:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 174              		.loc 9 23 25 discriminator 2 view .LVU28
 175 0020 A045     		cmp	r8, r4
 176              		.loc 9 24 31 discriminator 2 view .LVU29
 177 0022 85ED000A 		vstr.32	s0, [r5]
 178              		.loc 9 24 19 discriminator 2 view .LVU30
 179 0026 83ED000A 		vstr.32	s0, [r3]
  23:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 180              		.loc 9 23 5 is_stmt 1 discriminator 2 view .LVU31
 181              	.LVL7:
  23:usbMidi.cpp   ****     for(size_t i = 0; i < size; i++)
 182              		.loc 9 23 25 discriminator 2 view .LVU32
 183 002a EFD1     		bne	.L7
 184              	.LBE149:
  25:usbMidi.cpp   **** }
 185              		.loc 9 25 1 is_stmt 0 view .LVU33
 186 002c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 187              	.LVL8:
 188              	.L13:
 189              		.cfi_def_cfa_offset 0
 190              		.cfi_restore 4
 191              		.cfi_restore 5
 192              		.cfi_restore 6
 193              		.cfi_restore 7
 194              		.cfi_restore 8
 195              		.cfi_restore 14
 196              		.loc 9 25 1 view .LVU34
 197 0030 7047     		bx	lr
 198              	.L17:
 199 0032 00BF     		.align	2
 200              	.L16:
 201 0034 00000000 		.word	.LANCHOR0
 202              		.cfi_endproc
 203              	.LFE4789:
 205              		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh,"axG",%progbits,_ZN5daisy11M
 206              		.align	1
 207              		.p2align 2,,3
 208              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 213              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 13


 214              	.LVL9:
 215              	.LFB5223:
  86:../../../libDaisy/src/hid/midi.h **** 
  87:../../../libDaisy/src/hid/midi.h ****     struct Config
  88:../../../libDaisy/src/hid/midi.h ****     {
  89:../../../libDaisy/src/hid/midi.h ****         typename Transport::Config transport_config;
  90:../../../libDaisy/src/hid/midi.h ****     };
  91:../../../libDaisy/src/hid/midi.h **** 
  92:../../../libDaisy/src/hid/midi.h ****     /** Initializes the MidiHandler 
  93:../../../libDaisy/src/hid/midi.h ****      *  \param config Configuration structure used to define specifics to the MIDI Handler.
  94:../../../libDaisy/src/hid/midi.h ****      */
  95:../../../libDaisy/src/hid/midi.h ****     void Init(Config config)
  96:../../../libDaisy/src/hid/midi.h ****     {
  97:../../../libDaisy/src/hid/midi.h ****         config_ = config;
  98:../../../libDaisy/src/hid/midi.h **** 
  99:../../../libDaisy/src/hid/midi.h ****         transport_.Init(config_.transport_config);
 100:../../../libDaisy/src/hid/midi.h **** 
 101:../../../libDaisy/src/hid/midi.h ****         event_q_.Init();
 102:../../../libDaisy/src/hid/midi.h ****         incoming_message_.type = MessageLast;
 103:../../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 104:../../../libDaisy/src/hid/midi.h ****     }
 105:../../../libDaisy/src/hid/midi.h **** 
 106:../../../libDaisy/src/hid/midi.h ****     /** Starts listening on the selected input mode(s). MidiEvent Queue will begin to fill, and can
 107:../../../libDaisy/src/hid/midi.h ****     void StartReceive() { transport_.StartRx(); }
 108:../../../libDaisy/src/hid/midi.h **** 
 109:../../../libDaisy/src/hid/midi.h ****     /** Start listening */
 110:../../../libDaisy/src/hid/midi.h ****     void Listen()
 111:../../../libDaisy/src/hid/midi.h ****     {
 112:../../../libDaisy/src/hid/midi.h ****         uint32_t now;
 113:../../../libDaisy/src/hid/midi.h ****         now = System::GetNow();
 114:../../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 115:../../../libDaisy/src/hid/midi.h ****         {
 116:../../../libDaisy/src/hid/midi.h ****             last_read_ = now;
 117:../../../libDaisy/src/hid/midi.h ****             Parse(transport_.Rx());
 118:../../../libDaisy/src/hid/midi.h ****         }
 119:../../../libDaisy/src/hid/midi.h **** 
 120:../../../libDaisy/src/hid/midi.h ****         // In case of UART Error, (particularly
 121:../../../libDaisy/src/hid/midi.h ****         //  overrun error), UART disables itself.
 122:../../../libDaisy/src/hid/midi.h ****         // Flush the buff, and restart.
 123:../../../libDaisy/src/hid/midi.h ****         if(!transport_.RxActive())
 124:../../../libDaisy/src/hid/midi.h ****         {
 125:../../../libDaisy/src/hid/midi.h ****             pstate_ = ParserEmpty;
 126:../../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 127:../../../libDaisy/src/hid/midi.h ****             StartReceive();
 128:../../../libDaisy/src/hid/midi.h ****         }
 129:../../../libDaisy/src/hid/midi.h ****     }
 130:../../../libDaisy/src/hid/midi.h **** 
 131:../../../libDaisy/src/hid/midi.h ****     /** Checks if there are unhandled messages in the queue 
 132:../../../libDaisy/src/hid/midi.h ****     \return True if there are events to be handled, else false.
 133:../../../libDaisy/src/hid/midi.h ****      */
 134:../../../libDaisy/src/hid/midi.h ****     bool HasEvents() const { return event_q_.readable(); }
 135:../../../libDaisy/src/hid/midi.h **** 
 136:../../../libDaisy/src/hid/midi.h **** 
 137:../../../libDaisy/src/hid/midi.h ****     /** Pops the oldest unhandled MidiEvent from the internal queue
 138:../../../libDaisy/src/hid/midi.h ****     \return The event to be handled
 139:../../../libDaisy/src/hid/midi.h ****      */
 140:../../../libDaisy/src/hid/midi.h ****     MidiEvent PopEvent() { return event_q_.Read(); }
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 14


 141:../../../libDaisy/src/hid/midi.h **** 
 142:../../../libDaisy/src/hid/midi.h ****     /** SendMessage
 143:../../../libDaisy/src/hid/midi.h ****     Send raw bytes as message
 144:../../../libDaisy/src/hid/midi.h ****     */
 145:../../../libDaisy/src/hid/midi.h ****     void SendMessage(uint8_t* bytes, size_t size)
 146:../../../libDaisy/src/hid/midi.h ****     {
 147:../../../libDaisy/src/hid/midi.h ****         transport_.Tx(bytes, size);
 148:../../../libDaisy/src/hid/midi.h ****     }
 149:../../../libDaisy/src/hid/midi.h **** 
 150:../../../libDaisy/src/hid/midi.h ****     /** Feed in bytes to state machine from a queue.
 151:../../../libDaisy/src/hid/midi.h ****     Populates internal FIFO queue with MIDI Messages
 152:../../../libDaisy/src/hid/midi.h ****     For example with uart:
 153:../../../libDaisy/src/hid/midi.h ****     midi.Parse(uart.PopRx());
 154:../../../libDaisy/src/hid/midi.h ****     \param byte &
 155:../../../libDaisy/src/hid/midi.h ****     */
 156:../../../libDaisy/src/hid/midi.h ****     void Parse(uint8_t byte)
 216              		.loc 7 156 10 is_stmt 1 view -0
 217              		.cfi_startproc
 218              		@ args = 0, pretend = 0, frame = 288
 219              		@ frame_needed = 0, uses_anonymous_args = 0
 220              		.loc 7 156 10 is_stmt 0 view .LVU36
 221 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 222              		.cfi_def_cfa_offset 24
 223              		.cfi_offset 4, -24
 224              		.cfi_offset 5, -20
 225              		.cfi_offset 6, -16
 226              		.cfi_offset 7, -12
 227              		.cfi_offset 8, -8
 228              		.cfi_offset 14, -4
 157:../../../libDaisy/src/hid/midi.h ****     {
 158:../../../libDaisy/src/hid/midi.h ****         // reset parser when status byte is received
 159:../../../libDaisy/src/hid/midi.h ****         if((byte & kStatusByteMask) && pstate_ != ParserSysEx)
 229              		.loc 7 159 20 view .LVU37
 230 0004 00F51044 		add	r4, r0, #36864
 156:../../../libDaisy/src/hid/midi.h ****     {
 231              		.loc 7 156 10 view .LVU38
 232 0008 C8B0     		sub	sp, sp, #288
 233              		.cfi_def_cfa_offset 312
 156:../../../libDaisy/src/hid/midi.h ****     {
 234              		.loc 7 156 10 view .LVU39
 235 000a 0546     		mov	r5, r0
 236              		.loc 7 159 18 view .LVU40
 237 000c 94F8AC30 		ldrb	r3, [r4, #172]	@ zero_extendqisi2
 238              		.loc 7 159 9 view .LVU41
 239 0010 1942     		tst	r1, r3
 240              		.loc 7 159 37 view .LVU42
 241 0012 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 242              		.loc 7 159 9 view .LVU43
 243 0014 18D0     		beq	.L19
 244              		.loc 7 159 37 discriminator 1 view .LVU44
 245 0016 032B     		cmp	r3, #3
 246 0018 1CD0     		beq	.L20
 160:../../../libDaisy/src/hid/midi.h ****         {
 161:../../../libDaisy/src/hid/midi.h ****             pstate_ = ParserEmpty;
 247              		.loc 7 161 21 view .LVU45
 248 001a 0022     		movs	r2, #0
 249 001c 0271     		strb	r2, [r0, #4]
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 15


 162:../../../libDaisy/src/hid/midi.h ****         }
 163:../../../libDaisy/src/hid/midi.h ****         switch(pstate_)
 164:../../../libDaisy/src/hid/midi.h ****         {
 165:../../../libDaisy/src/hid/midi.h ****             case ParserEmpty:
 166:../../../libDaisy/src/hid/midi.h ****                 // check byte for valid Status Byte
 167:../../../libDaisy/src/hid/midi.h ****                 if(byte & kStatusByteMask)
 168:../../../libDaisy/src/hid/midi.h ****                 {
 169:../../../libDaisy/src/hid/midi.h ****                     // Get MessageType, and Channel
 170:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.channel = byte & kChannelMask;
 250              		.loc 7 170 54 view .LVU46
 251 001e 94F8B030 		ldrb	r3, [r4, #176]	@ zero_extendqisi2
 252 0022 0B40     		ands	r3, r3, r1
 253 0024 C360     		str	r3, [r0, #12]
 171:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = static_cast<MidiMessageType>(
 172:../../../libDaisy/src/hid/midi.h ****                         (byte & kMessageMask) >> 4);
 254              		.loc 7 172 31 view .LVU47
 255 0026 94F8AD30 		ldrb	r3, [r4, #173]	@ zero_extendqisi2
 256              		.loc 7 172 47 view .LVU48
 257 002a 0B40     		ands	r3, r3, r1
 258 002c 1B09     		lsrs	r3, r3, #4
 173:../../../libDaisy/src/hid/midi.h **** 
 174:../../../libDaisy/src/hid/midi.h ****                     // Validate, and move on.
 175:../../../libDaisy/src/hid/midi.h ****                     if(incoming_message_.type < MessageLast)
 259              		.loc 7 175 21 view .LVU49
 260 002e 092B     		cmp	r3, #9
 171:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = static_cast<MidiMessageType>(
 261              		.loc 7 171 47 view .LVU50
 262 0030 0372     		strb	r3, [r0, #8]
 263              		.loc 7 175 21 view .LVU51
 264 0032 06D8     		bhi	.L18
 176:../../../libDaisy/src/hid/midi.h ****                     {
 177:../../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserHasStatus;
 265              		.loc 7 177 33 view .LVU52
 266 0034 0120     		movs	r0, #1
 267              	.LVL10:
 178:../../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 179:../../../libDaisy/src/hid/midi.h ****                         running_status_ = incoming_message_.type;
 180:../../../libDaisy/src/hid/midi.h **** 
 181:../../../libDaisy/src/hid/midi.h ****                         if(running_status_ == SystemCommon)
 268              		.loc 7 181 25 view .LVU53
 269 0036 072B     		cmp	r3, #7
 177:../../../libDaisy/src/hid/midi.h ****                         // Mark this status byte as running_status
 270              		.loc 7 177 33 view .LVU54
 271 0038 2871     		strb	r0, [r5, #4]
 179:../../../libDaisy/src/hid/midi.h **** 
 272              		.loc 7 179 41 view .LVU55
 273 003a 84F8A430 		strb	r3, [r4, #164]
 274              		.loc 7 181 25 view .LVU56
 275 003e 00F0E880 		beq	.L76
 276              	.LVL11:
 277              	.L18:
 182:../../../libDaisy/src/hid/midi.h ****                         {
 183:../../../libDaisy/src/hid/midi.h ****                             incoming_message_.channel = 0;
 184:../../../libDaisy/src/hid/midi.h ****                             //system real time = 1111 1xxx
 185:../../../libDaisy/src/hid/midi.h ****                             if(byte & 0x08)
 186:../../../libDaisy/src/hid/midi.h ****                             {
 187:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.type = SystemRealTime;
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 16


 188:../../../libDaisy/src/hid/midi.h ****                                 running_status_        = SystemRealTime;
 189:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.srt_type
 190:../../../libDaisy/src/hid/midi.h ****                                     = static_cast<SystemRealTimeType>(
 191:../../../libDaisy/src/hid/midi.h ****                                         byte & kSystemRealTimeMask);
 192:../../../libDaisy/src/hid/midi.h **** 
 193:../../../libDaisy/src/hid/midi.h ****                                 //short circuit to start
 194:../../../libDaisy/src/hid/midi.h ****                                 pstate_ = ParserEmpty;
 195:../../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 196:../../../libDaisy/src/hid/midi.h ****                             }
 197:../../../libDaisy/src/hid/midi.h ****                             //system common
 198:../../../libDaisy/src/hid/midi.h ****                             else
 199:../../../libDaisy/src/hid/midi.h ****                             {
 200:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.sc_type
 201:../../../libDaisy/src/hid/midi.h ****                                     = static_cast<SystemCommonType>(byte
 202:../../../libDaisy/src/hid/midi.h ****                                                                     & 0x07);
 203:../../../libDaisy/src/hid/midi.h ****                                 //sysex
 204:../../../libDaisy/src/hid/midi.h ****                                 if(incoming_message_.sc_type == SystemExclusive)
 205:../../../libDaisy/src/hid/midi.h ****                                 {
 206:../../../libDaisy/src/hid/midi.h ****                                     pstate_ = ParserSysEx;
 207:../../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 208:../../../libDaisy/src/hid/midi.h ****                                 }
 209:../../../libDaisy/src/hid/midi.h ****                                 //short circuit
 210:../../../libDaisy/src/hid/midi.h ****                                 else if(incoming_message_.sc_type > SongSelect)
 211:../../../libDaisy/src/hid/midi.h ****                                 {
 212:../../../libDaisy/src/hid/midi.h ****                                     pstate_ = ParserEmpty;
 213:../../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 214:../../../libDaisy/src/hid/midi.h ****                                 }
 215:../../../libDaisy/src/hid/midi.h ****                             }
 216:../../../libDaisy/src/hid/midi.h ****                         }
 217:../../../libDaisy/src/hid/midi.h ****                     }
 218:../../../libDaisy/src/hid/midi.h ****                     // Else we'll keep waiting for a valid incoming status byte
 219:../../../libDaisy/src/hid/midi.h ****                 }
 220:../../../libDaisy/src/hid/midi.h ****                 else
 221:../../../libDaisy/src/hid/midi.h ****                 {
 222:../../../libDaisy/src/hid/midi.h ****                     // Handle as running status
 223:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.type    = running_status_;
 224:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 225:../../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 226:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 227:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 228:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == MTCQuarterFrame
 229:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 230:../../../libDaisy/src/hid/midi.h ****                     {
 231:../../../libDaisy/src/hid/midi.h ****                         //Send the single byte update
 232:../../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserEmpty;
 233:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 234:../../../libDaisy/src/hid/midi.h ****                     }
 235:../../../libDaisy/src/hid/midi.h ****                     else
 236:../../../libDaisy/src/hid/midi.h ****                     {
 237:../../../libDaisy/src/hid/midi.h ****                         pstate_
 238:../../../libDaisy/src/hid/midi.h ****                             = ParserHasData0; //we need to get the 2nd byte yet.
 239:../../../libDaisy/src/hid/midi.h ****                     }
 240:../../../libDaisy/src/hid/midi.h ****                 }
 241:../../../libDaisy/src/hid/midi.h ****                 break;
 242:../../../libDaisy/src/hid/midi.h ****             case ParserHasStatus:
 243:../../../libDaisy/src/hid/midi.h ****                 if((byte & kStatusByteMask) == 0)
 244:../../../libDaisy/src/hid/midi.h ****                 {
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 17


 245:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 246:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 247:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 248:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == MTCQuarterFrame
 249:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 250:../../../libDaisy/src/hid/midi.h ****                     {
 251:../../../libDaisy/src/hid/midi.h ****                         //these are just one data byte, so we short circuit back to start
 252:../../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserEmpty;
 253:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 254:../../../libDaisy/src/hid/midi.h ****                     }
 255:../../../libDaisy/src/hid/midi.h ****                     else
 256:../../../libDaisy/src/hid/midi.h ****                     {
 257:../../../libDaisy/src/hid/midi.h ****                         pstate_ = ParserHasData0;
 258:../../../libDaisy/src/hid/midi.h ****                     }
 259:../../../libDaisy/src/hid/midi.h **** 
 260:../../../libDaisy/src/hid/midi.h ****                     //ChannelModeMessages (reserved Control Changes)
 261:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ControlChange
 262:../../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[0] > 119)
 263:../../../libDaisy/src/hid/midi.h ****                     {
 264:../../../libDaisy/src/hid/midi.h ****                         incoming_message_.type = ChannelMode;
 265:../../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 266:../../../libDaisy/src/hid/midi.h ****                         incoming_message_.cm_type
 267:../../../libDaisy/src/hid/midi.h ****                             = static_cast<ChannelModeType>(
 268:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.data[0] - 120);
 269:../../../libDaisy/src/hid/midi.h ****                     }
 270:../../../libDaisy/src/hid/midi.h ****                 }
 271:../../../libDaisy/src/hid/midi.h ****                 else
 272:../../../libDaisy/src/hid/midi.h ****                 {
 273:../../../libDaisy/src/hid/midi.h ****                     // invalid message go back to start ;p
 274:../../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 275:../../../libDaisy/src/hid/midi.h ****                 }
 276:../../../libDaisy/src/hid/midi.h ****                 break;
 277:../../../libDaisy/src/hid/midi.h ****             case ParserHasData0:
 278:../../../libDaisy/src/hid/midi.h ****                 if((byte & kStatusByteMask) == 0)
 279:../../../libDaisy/src/hid/midi.h ****                 {
 280:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[1] = byte & kDataByteMask;
 281:../../../libDaisy/src/hid/midi.h **** 
 282:../../../libDaisy/src/hid/midi.h ****                     //velocity 0 NoteOns are NoteOffs
 283:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == NoteOn
 284:../../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[1] == 0)
 285:../../../libDaisy/src/hid/midi.h ****                     {
 286:../../../libDaisy/src/hid/midi.h ****                         incoming_message_.type = NoteOff;
 287:../../../libDaisy/src/hid/midi.h ****                     }
 288:../../../libDaisy/src/hid/midi.h **** 
 289:../../../libDaisy/src/hid/midi.h ****                     // At this point the message is valid, and we can add this MidiEvent to the que
 290:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 291:../../../libDaisy/src/hid/midi.h ****                 }
 292:../../../libDaisy/src/hid/midi.h ****                 else
 293:../../../libDaisy/src/hid/midi.h ****                 {
 294:../../../libDaisy/src/hid/midi.h ****                     // invalid message go back to start ;p
 295:../../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 296:../../../libDaisy/src/hid/midi.h ****                 }
 297:../../../libDaisy/src/hid/midi.h ****                 // Regardless, of whether the data was valid or not we go back to empty
 298:../../../libDaisy/src/hid/midi.h ****                 // because either the message is queued for handling or its not.
 299:../../../libDaisy/src/hid/midi.h ****                 pstate_ = ParserEmpty;
 300:../../../libDaisy/src/hid/midi.h ****                 break;
 301:../../../libDaisy/src/hid/midi.h ****             case ParserSysEx:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 18


 302:../../../libDaisy/src/hid/midi.h ****                 // end of sysex
 303:../../../libDaisy/src/hid/midi.h ****                 if(byte == 0xf7)
 304:../../../libDaisy/src/hid/midi.h ****                 {
 305:../../../libDaisy/src/hid/midi.h ****                     pstate_ = ParserEmpty;
 306:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 307:../../../libDaisy/src/hid/midi.h ****                 }
 308:../../../libDaisy/src/hid/midi.h ****                 else if(incoming_message_.sysex_message_len < SYSEX_BUFFER_LEN)
 309:../../../libDaisy/src/hid/midi.h ****                 {
 310:../../../libDaisy/src/hid/midi.h ****                     incoming_message_
 311:../../../libDaisy/src/hid/midi.h ****                         .sysex_data[incoming_message_.sysex_message_len]
 312:../../../libDaisy/src/hid/midi.h ****                         = byte;
 313:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 314:../../../libDaisy/src/hid/midi.h ****                 }
 315:../../../libDaisy/src/hid/midi.h ****                 break;
 316:../../../libDaisy/src/hid/midi.h ****             default: break;
 317:../../../libDaisy/src/hid/midi.h ****         }
 318:../../../libDaisy/src/hid/midi.h ****     }
 278              		.loc 7 318 5 view .LVU57
 279 0042 48B0     		add	sp, sp, #288
 280              		.cfi_remember_state
 281              		.cfi_def_cfa_offset 24
 282              		@ sp needed
 283 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 284              	.LVL12:
 285              	.L19:
 286              		.cfi_restore_state
 163:../../../libDaisy/src/hid/midi.h ****         {
 287              		.loc 7 163 9 view .LVU58
 288 0048 032B     		cmp	r3, #3
 289 004a FAD8     		bhi	.L18
 290 004c DFE803F0 		tbb	[pc, r3]
 291              	.L42:
 292 0050 8D       		.byte	(.L28-.L42)/2
 293 0051 11       		.byte	(.L32-.L42)/2
 294 0052 58       		.byte	(.L37-.L42)/2
 295 0053 02       		.byte	(.L20-.L42)/2
 296              		.p2align 1
 297              	.L20:
 303:../../../libDaisy/src/hid/midi.h ****                 {
 298              		.loc 7 303 17 view .LVU59
 299 0054 F729     		cmp	r1, #247
 300 0056 00F0C380 		beq	.L77
 308:../../../libDaisy/src/hid/midi.h ****                 {
 301              		.loc 7 308 22 view .LVU60
 302 005a 95F99220 		ldrsb	r2, [r5, #146]
 308:../../../libDaisy/src/hid/midi.h ****                 {
 303              		.loc 7 308 43 view .LVU61
 304 005e 95F89230 		ldrb	r3, [r5, #146]	@ zero_extendqisi2
 308:../../../libDaisy/src/hid/midi.h ****                 {
 305              		.loc 7 308 22 view .LVU62
 306 0062 002A     		cmp	r2, #0
 307 0064 EDDB     		blt	.L18
 312:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 308              		.loc 7 312 25 view .LVU63
 309 0066 EA18     		adds	r2, r5, r3
 313:../../../libDaisy/src/hid/midi.h ****                 }
 310              		.loc 7 313 21 view .LVU64
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 19


 311 0068 0133     		adds	r3, r3, #1
 312:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.sysex_message_len++;
 312              		.loc 7 312 25 view .LVU65
 313 006a 9174     		strb	r1, [r2, #18]
 313:../../../libDaisy/src/hid/midi.h ****                 }
 314              		.loc 7 313 21 view .LVU66
 315 006c 85F89230 		strb	r3, [r5, #146]
 316              		.loc 7 318 5 view .LVU67
 317 0070 E7E7     		b	.L18
 318              	.L32:
 245:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 319              		.loc 7 245 54 view .LVU68
 320 0072 94F8AE80 		ldrb	r8, [r4, #174]	@ zero_extendqisi2
 321 0076 01EA0808 		and	r8, r1, r8
 245:../../../libDaisy/src/hid/midi.h ****                     if(running_status_ == ChannelPressure
 322              		.loc 7 245 47 view .LVU69
 323 007a 85F81080 		strb	r8, [r5, #16]
 246:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 324              		.loc 7 246 24 view .LVU70
 325 007e 94F8A470 		ldrb	r7, [r4, #164]	@ zero_extendqisi2
 246:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 326              		.loc 7 246 21 view .LVU71
 327 0082 3B1F     		subs	r3, r7, #4
 328 0084 012B     		cmp	r3, #1
 329 0086 06D9     		bls	.L33
 248:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 330              		.loc 7 248 24 view .LVU72
 331 0088 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 249:../../../libDaisy/src/hid/midi.h ****                     {
 332              		.loc 7 249 24 view .LVU73
 333 008c 03F0FD03 		and	r3, r3, #253
 334 0090 012B     		cmp	r3, #1
 335 0092 40F0BB80 		bne	.L34
 336              	.L33:
 252:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 337              		.loc 7 252 33 view .LVU74
 338 0096 0023     		movs	r3, #0
 339 0098 6E46     		mov	r6, sp
 340 009a 9022     		movs	r2, #144
 341 009c 05F10801 		add	r1, r5, #8
 342              	.LVL13:
 252:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 343              		.loc 7 252 33 view .LVU75
 344 00a0 3046     		mov	r0, r6
 345              	.LVL14:
 252:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 346              		.loc 7 252 33 view .LVU76
 347 00a2 2B71     		strb	r3, [r5, #4]
 348              	.LVL15:
 252:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 349              		.loc 7 252 33 view .LVU77
 350 00a4 FFF7FEFF 		bl	memcpy
 351              	.LVL16:
 352              	.LBB186:
 353              	.LBI186:
 354              		.file 10 "../../../libDaisy/src/util/ringbuffer.h"
   1:../../../libDaisy/src/util/ringbuffer.h **** #pragma once
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 20


   2:../../../libDaisy/src/util/ringbuffer.h **** #ifndef DSY_RINGBUFFER_H
   3:../../../libDaisy/src/util/ringbuffer.h **** #define DSY_RINGBUFFER_H
   4:../../../libDaisy/src/util/ringbuffer.h **** 
   5:../../../libDaisy/src/util/ringbuffer.h **** #include <algorithm>
   6:../../../libDaisy/src/util/ringbuffer.h **** 
   7:../../../libDaisy/src/util/ringbuffer.h **** namespace daisy
   8:../../../libDaisy/src/util/ringbuffer.h **** {
   9:../../../libDaisy/src/util/ringbuffer.h **** /** @addtogroup utility
  10:../../../libDaisy/src/util/ringbuffer.h ****     @{
  11:../../../libDaisy/src/util/ringbuffer.h **** */
  12:../../../libDaisy/src/util/ringbuffer.h **** 
  13:../../../libDaisy/src/util/ringbuffer.h **** /**
  14:../../../libDaisy/src/util/ringbuffer.h **** Utility Ring Buffer \n 
  15:../../../libDaisy/src/util/ringbuffer.h **** imported from pichenettes/stmlib
  16:../../../libDaisy/src/util/ringbuffer.h **** */
  17:../../../libDaisy/src/util/ringbuffer.h **** template <typename T, size_t size>
  18:../../../libDaisy/src/util/ringbuffer.h **** class RingBuffer
  19:../../../libDaisy/src/util/ringbuffer.h **** {
  20:../../../libDaisy/src/util/ringbuffer.h ****   public:
  21:../../../libDaisy/src/util/ringbuffer.h ****     RingBuffer() {}
  22:../../../libDaisy/src/util/ringbuffer.h **** 
  23:../../../libDaisy/src/util/ringbuffer.h ****     /** Initializes the Ring Buffer */
  24:../../../libDaisy/src/util/ringbuffer.h ****     inline void Init() { read_ptr_ = write_ptr_ = 0; }
  25:../../../libDaisy/src/util/ringbuffer.h **** 
  26:../../../libDaisy/src/util/ringbuffer.h ****     /** \return The total size of the ring buffer */
  27:../../../libDaisy/src/util/ringbuffer.h ****     inline size_t capacity() const { return size; }
  28:../../../libDaisy/src/util/ringbuffer.h **** 
  29:../../../libDaisy/src/util/ringbuffer.h ****     /** \return the number of samples that can be written to ring buffer without overwriting unread
  30:../../../libDaisy/src/util/ringbuffer.h ****     inline size_t writable() const
  31:../../../libDaisy/src/util/ringbuffer.h ****     {
  32:../../../libDaisy/src/util/ringbuffer.h ****         return (read_ptr_ - write_ptr_ - 1) % size;
  33:../../../libDaisy/src/util/ringbuffer.h ****     }
  34:../../../libDaisy/src/util/ringbuffer.h **** 
  35:../../../libDaisy/src/util/ringbuffer.h ****     /** \return number of unread elements in ring buffer */
  36:../../../libDaisy/src/util/ringbuffer.h ****     inline size_t readable() const { return (write_ptr_ - read_ptr_) % size; }
  37:../../../libDaisy/src/util/ringbuffer.h **** 
  38:../../../libDaisy/src/util/ringbuffer.h ****     /** \returns True, if the buffer is empty. */
  39:../../../libDaisy/src/util/ringbuffer.h ****     inline bool isEmpty() const { return write_ptr_ == read_ptr_; }
  40:../../../libDaisy/src/util/ringbuffer.h **** 
  41:../../../libDaisy/src/util/ringbuffer.h ****     /** Writes the value to the next available position in the ring buffer
  42:../../../libDaisy/src/util/ringbuffer.h ****     \param v Value to write
  43:../../../libDaisy/src/util/ringbuffer.h ****     */
  44:../../../libDaisy/src/util/ringbuffer.h ****     inline void Write(T v)
 355              		.loc 10 44 17 is_stmt 1 view .LVU78
 356              	.L35:
 357              	.LBB187:
  45:../../../libDaisy/src/util/ringbuffer.h ****     {
  46:../../../libDaisy/src/util/ringbuffer.h ****         while(!writable())
 358              		.loc 10 46 24 view .LVU79
 359              	.LBB188:
 360              	.LBI188:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 361              		.loc 10 30 19 view .LVU80
 362              	.LBB189:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 363              		.loc 10 32 17 is_stmt 0 view .LVU81
 364 00a8 D4F89830 		ldr	r3, [r4, #152]
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 21


  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 365              		.loc 10 32 29 view .LVU82
 366 00ac D4F89C20 		ldr	r2, [r4, #156]
 367              	.LVL17:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 368              		.loc 10 32 40 view .LVU83
 369 00b0 013B     		subs	r3, r3, #1
 370 00b2 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 371              		.loc 10 32 47 view .LVU84
 372 00b4 DBB2     		uxtb	r3, r3
 373              	.LBE189:
 374              	.LBE188:
 375              		.loc 10 46 24 view .LVU85
 376 00b6 002B     		cmp	r3, #0
 377 00b8 F6D0     		beq	.L35
 378              	.LVL18:
 379              		.loc 10 46 24 view .LVU86
 380 00ba 9022     		movs	r2, #144
 381 00bc 3146     		mov	r1, r6
 382 00be 0DEB0200 		add	r0, sp, r2
 383 00c2 FFF7FEFF 		bl	memcpy
 384              	.LVL19:
 385              	.LBB190:
 386              	.LBI190:
  47:../../../libDaisy/src/util/ringbuffer.h ****             ;
  48:../../../libDaisy/src/util/ringbuffer.h ****         Overwrite(v);
  49:../../../libDaisy/src/util/ringbuffer.h ****     }
  50:../../../libDaisy/src/util/ringbuffer.h **** 
  51:../../../libDaisy/src/util/ringbuffer.h ****     /** Writes the new element to the ring buffer, overwriting unread data if necessary. 
  52:../../../libDaisy/src/util/ringbuffer.h ****     \param v Value to overwrite
  53:../../../libDaisy/src/util/ringbuffer.h ****      */
  54:../../../libDaisy/src/util/ringbuffer.h ****     inline void Overwrite(T v)
 387              		.loc 10 54 17 is_stmt 1 view .LVU87
 388              	.LBB191:
  55:../../../libDaisy/src/util/ringbuffer.h ****     {
  56:../../../libDaisy/src/util/ringbuffer.h ****         size_t w   = write_ptr_;
 389              		.loc 10 56 16 is_stmt 0 view .LVU88
 390 00c6 D4F89C60 		ldr	r6, [r4, #156]
 391              	.LVL20:
  57:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 392              		.loc 10 57 9 view .LVU89
 393 00ca 24A9     		add	r1, sp, #144
 394 00cc 9022     		movs	r2, #144
 395 00ce 06EBC600 		add	r0, r6, r6, lsl #3
  58:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 396              		.loc 10 58 25 view .LVU90
 397 00d2 0136     		adds	r6, r6, #1
 398              	.LVL21:
  57:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 399              		.loc 10 57 9 view .LVU91
 400 00d4 05EB0010 		add	r0, r5, r0, lsl #4
 401              		.loc 10 58 30 view .LVU92
 402 00d8 F6B2     		uxtb	r6, r6
 403              	.LVL22:
  57:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 404              		.loc 10 57 9 view .LVU93
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 22


 405 00da 9830     		adds	r0, r0, #152
 406 00dc FFF7FEFF 		bl	memcpy
 407              	.LVL23:
 408              		.loc 10 58 20 view .LVU94
 409 00e0 C4F89C60 		str	r6, [r4, #156]
 410              	.LVL24:
 411              	.L36:
 412              		.loc 10 58 20 view .LVU95
 413              	.LBE191:
 414              	.LBE190:
 415              	.LBE187:
 416              	.LBE186:
 262:../../../libDaisy/src/hid/midi.h ****                     {
 417              		.loc 7 262 24 view .LVU96
 418 00e4 B8F1770F 		cmp	r8, #119
 419 00e8 ABD9     		bls	.L18
 420 00ea 032F     		cmp	r7, #3
 421 00ec A9D1     		bne	.L18
 264:../../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 422              		.loc 7 264 48 view .LVU97
 423 00ee 0923     		movs	r3, #9
 268:../../../libDaisy/src/hid/midi.h ****                     }
 424              		.loc 7 268 59 view .LVU98
 425 00f0 A8F17801 		sub	r1, r8, #120
 264:../../../libDaisy/src/hid/midi.h ****                         running_status_        = ChannelMode;
 426              		.loc 7 264 48 view .LVU99
 427 00f4 2B72     		strb	r3, [r5, #8]
 265:../../../libDaisy/src/hid/midi.h ****                         incoming_message_.cm_type
 428              		.loc 7 265 48 view .LVU100
 429 00f6 84F8A430 		strb	r3, [r4, #164]
 267:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.data[0] - 120);
 430              		.loc 7 267 29 view .LVU101
 431 00fa 85F89510 		strb	r1, [r5, #149]
 432 00fe A0E7     		b	.L18
 433              	.LVL25:
 434              	.L37:
 280:../../../libDaisy/src/hid/midi.h **** 
 435              		.loc 7 280 54 view .LVU102
 436 0100 94F8AE30 		ldrb	r3, [r4, #174]	@ zero_extendqisi2
 437 0104 1940     		ands	r1, r1, r3
 438              	.LVL26:
 280:../../../libDaisy/src/hid/midi.h **** 
 439              		.loc 7 280 47 view .LVU103
 440 0106 6974     		strb	r1, [r5, #17]
 283:../../../libDaisy/src/hid/midi.h ****                        && incoming_message_.data[1] == 0)
 441              		.loc 7 283 21 view .LVU104
 442 0108 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
 284:../../../libDaisy/src/hid/midi.h ****                     {
 443              		.loc 7 284 24 view .LVU105
 444 010c 012B     		cmp	r3, #1
 445 010e 02D1     		bne	.L38
 446 0110 0029     		cmp	r1, #0
 447 0112 00F08C80 		beq	.L78
 448              	.L38:
 449              	.LVL27:
 284:../../../libDaisy/src/hid/midi.h ****                     {
 450              		.loc 7 284 24 view .LVU106
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 23


 451 0116 6E46     		mov	r6, sp
 452 0118 9022     		movs	r2, #144
 453 011a 05F10801 		add	r1, r5, #8
 454 011e 3046     		mov	r0, r6
 455              	.LVL28:
 284:../../../libDaisy/src/hid/midi.h ****                     {
 456              		.loc 7 284 24 view .LVU107
 457 0120 FFF7FEFF 		bl	memcpy
 458              	.LVL29:
 459              	.LBB192:
 460              	.LBI192:
  44:../../../libDaisy/src/util/ringbuffer.h ****     {
 461              		.loc 10 44 17 is_stmt 1 view .LVU108
 462              	.L39:
 463              	.LBB193:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 464              		.loc 10 46 24 view .LVU109
 465              	.LBB194:
 466              	.LBI194:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 467              		.loc 10 30 19 view .LVU110
 468              	.LBB195:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 469              		.loc 10 32 17 is_stmt 0 view .LVU111
 470 0124 D4F89830 		ldr	r3, [r4, #152]
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 471              		.loc 10 32 29 view .LVU112
 472 0128 D4F89C20 		ldr	r2, [r4, #156]
 473              	.LVL30:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 474              		.loc 10 32 40 view .LVU113
 475 012c 013B     		subs	r3, r3, #1
 476 012e 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 477              		.loc 10 32 47 view .LVU114
 478 0130 DBB2     		uxtb	r3, r3
 479              	.LBE195:
 480              	.LBE194:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 481              		.loc 10 46 24 view .LVU115
 482 0132 002B     		cmp	r3, #0
 483 0134 F6D0     		beq	.L39
 484              	.LVL31:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 485              		.loc 10 46 24 view .LVU116
 486 0136 9022     		movs	r2, #144
 487 0138 3146     		mov	r1, r6
 488 013a 0DEB0200 		add	r0, sp, r2
 489 013e FFF7FEFF 		bl	memcpy
 490              	.LVL32:
 491              	.LBB196:
 492              	.LBI196:
  54:../../../libDaisy/src/util/ringbuffer.h ****     {
 493              		.loc 10 54 17 is_stmt 1 view .LVU117
 494              	.LBB197:
  56:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 495              		.loc 10 56 16 is_stmt 0 view .LVU118
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 24


 496 0142 D4F89C60 		ldr	r6, [r4, #156]
 497              	.LVL33:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 498              		.loc 10 57 9 view .LVU119
 499 0146 24A9     		add	r1, sp, #144
 500 0148 9022     		movs	r2, #144
 501 014a 06EBC600 		add	r0, r6, r6, lsl #3
 502              		.loc 10 58 25 view .LVU120
 503 014e 0136     		adds	r6, r6, #1
 504              	.LVL34:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 505              		.loc 10 57 9 view .LVU121
 506 0150 05EB0010 		add	r0, r5, r0, lsl #4
 507              		.loc 10 58 30 view .LVU122
 508 0154 F6B2     		uxtb	r6, r6
 509              	.LVL35:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 510              		.loc 10 57 9 view .LVU123
 511 0156 9830     		adds	r0, r0, #152
 512 0158 FFF7FEFF 		bl	memcpy
 513              	.LVL36:
 514              	.LBE197:
 515              	.LBE196:
 516              	.LBE193:
 517              	.LBE192:
 299:../../../libDaisy/src/hid/midi.h ****                 break;
 518              		.loc 7 299 25 view .LVU124
 519 015c 0023     		movs	r3, #0
 520              	.LBB201:
 521              	.LBB200:
 522              	.LBB199:
 523              	.LBB198:
 524              		.loc 10 58 20 view .LVU125
 525 015e C4F89C60 		str	r6, [r4, #156]
 526              	.LVL37:
 527              		.loc 10 58 20 view .LVU126
 528              	.LBE198:
 529              	.LBE199:
 530              	.LBE200:
 531              	.LBE201:
 299:../../../libDaisy/src/hid/midi.h ****                 break;
 532              		.loc 7 299 25 view .LVU127
 533 0162 2B71     		strb	r3, [r5, #4]
 534              		.loc 7 318 5 view .LVU128
 535 0164 48B0     		add	sp, sp, #288
 536              		.cfi_remember_state
 537              		.cfi_def_cfa_offset 24
 538              		@ sp needed
 539 0166 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 540              	.LVL38:
 541              	.L28:
 542              		.cfi_restore_state
 223:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 543              		.loc 7 223 49 view .LVU129
 544 016a 94F8A430 		ldrb	r3, [r4, #164]	@ zero_extendqisi2
 223:../../../libDaisy/src/hid/midi.h ****                     incoming_message_.data[0] = byte & kDataByteMask;
 545              		.loc 7 223 47 view .LVU130
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 25


 546 016e 2B72     		strb	r3, [r5, #8]
 226:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 547              		.loc 7 226 21 view .LVU131
 548 0170 043B     		subs	r3, r3, #4
 224:../../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 549              		.loc 7 224 54 view .LVU132
 550 0172 94F8AE20 		ldrb	r2, [r4, #174]	@ zero_extendqisi2
 226:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 551              		.loc 7 226 21 view .LVU133
 552 0176 012B     		cmp	r3, #1
 224:../../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 553              		.loc 7 224 54 view .LVU134
 554 0178 01EA0201 		and	r1, r1, r2
 555              	.LVL39:
 224:../../../libDaisy/src/hid/midi.h ****                     //check for single byte running status, really this only applies to channel pre
 556              		.loc 7 224 47 view .LVU135
 557 017c 2974     		strb	r1, [r5, #16]
 226:../../../libDaisy/src/hid/midi.h ****                        || running_status_ == ProgramChange
 558              		.loc 7 226 21 view .LVU136
 559 017e 05D9     		bls	.L29
 228:../../../libDaisy/src/hid/midi.h ****                        || incoming_message_.sc_type == SongSelect)
 560              		.loc 7 228 24 view .LVU137
 561 0180 95F89330 		ldrb	r3, [r5, #147]	@ zero_extendqisi2
 229:../../../libDaisy/src/hid/midi.h ****                     {
 562              		.loc 7 229 24 view .LVU138
 563 0184 03F0FD03 		and	r3, r3, #253
 564 0188 012B     		cmp	r3, #1
 565 018a 3CD1     		bne	.L30
 566              	.L29:
 232:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 567              		.loc 7 232 33 view .LVU139
 568 018c 0023     		movs	r3, #0
 569 018e 6E46     		mov	r6, sp
 570 0190 9022     		movs	r2, #144
 571 0192 05F10801 		add	r1, r5, #8
 572 0196 3046     		mov	r0, r6
 573              	.LVL40:
 232:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 574              		.loc 7 232 33 view .LVU140
 575 0198 2B71     		strb	r3, [r5, #4]
 576              	.LVL41:
 232:../../../libDaisy/src/hid/midi.h ****                         event_q_.Write(incoming_message_);
 577              		.loc 7 232 33 view .LVU141
 578 019a FFF7FEFF 		bl	memcpy
 579              	.LVL42:
 580              	.LBB202:
 581              	.LBI202:
  44:../../../libDaisy/src/util/ringbuffer.h ****     {
 582              		.loc 10 44 17 is_stmt 1 view .LVU142
 583              	.L31:
 584              	.LBB203:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 585              		.loc 10 46 24 view .LVU143
 586              	.LBB204:
 587              	.LBI204:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 588              		.loc 10 30 19 view .LVU144
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 26


 589              	.LBB205:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 590              		.loc 10 32 17 is_stmt 0 view .LVU145
 591 019e D4F89830 		ldr	r3, [r4, #152]
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 592              		.loc 10 32 29 view .LVU146
 593 01a2 D4F89C20 		ldr	r2, [r4, #156]
 594              	.LVL43:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 595              		.loc 10 32 40 view .LVU147
 596 01a6 013B     		subs	r3, r3, #1
 597 01a8 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 598              		.loc 10 32 47 view .LVU148
 599 01aa DBB2     		uxtb	r3, r3
 600              	.LBE205:
 601              	.LBE204:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 602              		.loc 10 46 24 view .LVU149
 603 01ac 002B     		cmp	r3, #0
 604 01ae F6D0     		beq	.L31
 605              	.LVL44:
 606              	.L75:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 607              		.loc 10 46 24 view .LVU150
 608 01b0 9022     		movs	r2, #144
 609 01b2 3146     		mov	r1, r6
 610 01b4 0DEB0200 		add	r0, sp, r2
 611 01b8 FFF7FEFF 		bl	memcpy
 612              	.LVL45:
 613              	.LBE203:
 614              	.LBE202:
 615              	.LBB206:
 616              	.LBB207:
 617              	.LBB208:
 618              	.LBI208:
  54:../../../libDaisy/src/util/ringbuffer.h ****     {
 619              		.loc 10 54 17 is_stmt 1 view .LVU151
 620              	.LBB209:
  56:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 621              		.loc 10 56 16 is_stmt 0 view .LVU152
 622 01bc D4F89C60 		ldr	r6, [r4, #156]
 623              	.LVL46:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 624              		.loc 10 57 9 view .LVU153
 625 01c0 24A9     		add	r1, sp, #144
 626 01c2 9022     		movs	r2, #144
 627 01c4 06EBC600 		add	r0, r6, r6, lsl #3
 628              		.loc 10 58 25 view .LVU154
 629 01c8 0136     		adds	r6, r6, #1
 630              	.LVL47:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 631              		.loc 10 57 9 view .LVU155
 632 01ca 05EB0010 		add	r0, r5, r0, lsl #4
 633              		.loc 10 58 30 view .LVU156
 634 01ce F6B2     		uxtb	r6, r6
 635              	.LVL48:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 27


  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 636              		.loc 10 57 9 view .LVU157
 637 01d0 9830     		adds	r0, r0, #152
 638 01d2 FFF7FEFF 		bl	memcpy
 639              	.LVL49:
 640              		.loc 10 58 20 view .LVU158
 641 01d6 C4F89C60 		str	r6, [r4, #156]
 642              		.loc 10 58 20 view .LVU159
 643              	.LBE209:
 644              	.LBE208:
 645              	.LBE207:
 646              	.LBE206:
 647              		.loc 7 318 5 view .LVU160
 648 01da 48B0     		add	sp, sp, #288
 649              		.cfi_remember_state
 650              		.cfi_def_cfa_offset 24
 651              		@ sp needed
 652 01dc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 653              	.LVL50:
 654              	.L77:
 655              		.cfi_restore_state
 305:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 656              		.loc 7 305 29 view .LVU161
 657 01e0 0023     		movs	r3, #0
 658 01e2 6E46     		mov	r6, sp
 659 01e4 9022     		movs	r2, #144
 660 01e6 05F10801 		add	r1, r5, #8
 661              	.LVL51:
 305:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 662              		.loc 7 305 29 view .LVU162
 663 01ea 3046     		mov	r0, r6
 664              	.LVL52:
 305:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 665              		.loc 7 305 29 view .LVU163
 666 01ec 2B71     		strb	r3, [r5, #4]
 667              	.LVL53:
 305:../../../libDaisy/src/hid/midi.h ****                     event_q_.Write(incoming_message_);
 668              		.loc 7 305 29 view .LVU164
 669 01ee FFF7FEFF 		bl	memcpy
 670              	.LVL54:
 671              	.LBB213:
 672              	.LBI206:
  44:../../../libDaisy/src/util/ringbuffer.h ****     {
 673              		.loc 10 44 17 is_stmt 1 view .LVU165
 674              	.L41:
 675              	.LBB212:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 676              		.loc 10 46 24 view .LVU166
 677              	.LBB210:
 678              	.LBI210:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 679              		.loc 10 30 19 view .LVU167
 680              	.LBB211:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 681              		.loc 10 32 17 is_stmt 0 view .LVU168
 682 01f2 D4F89830 		ldr	r3, [r4, #152]
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 28


 683              		.loc 10 32 29 view .LVU169
 684 01f6 D4F89C20 		ldr	r2, [r4, #156]
 685              	.LVL55:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 686              		.loc 10 32 40 view .LVU170
 687 01fa 013B     		subs	r3, r3, #1
 688 01fc 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 689              		.loc 10 32 47 view .LVU171
 690 01fe DBB2     		uxtb	r3, r3
 691              	.LBE211:
 692              	.LBE210:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 693              		.loc 10 46 24 view .LVU172
 694 0200 002B     		cmp	r3, #0
 695 0202 F6D0     		beq	.L41
 696 0204 D4E7     		b	.L75
 697              	.LVL56:
 698              	.L30:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 699              		.loc 10 46 24 view .LVU173
 700              	.LBE212:
 701              	.LBE213:
 238:../../../libDaisy/src/hid/midi.h ****                     }
 702              		.loc 7 238 29 view .LVU174
 703 0206 0223     		movs	r3, #2
 704 0208 2B71     		strb	r3, [r5, #4]
 705 020a 1AE7     		b	.L18
 706              	.LVL57:
 707              	.L34:
 257:../../../libDaisy/src/hid/midi.h ****                     }
 708              		.loc 7 257 33 view .LVU175
 709 020c 0223     		movs	r3, #2
 710 020e 2B71     		strb	r3, [r5, #4]
 711 0210 68E7     		b	.L36
 712              	.LVL58:
 713              	.L76:
 185:../../../libDaisy/src/hid/midi.h ****                             {
 714              		.loc 7 185 29 view .LVU176
 715 0212 11F00800 		ands	r0, r1, #8
 183:../../../libDaisy/src/hid/midi.h ****                             //system real time = 1111 1xxx
 716              		.loc 7 183 55 view .LVU177
 717 0216 EA60     		str	r2, [r5, #12]
 185:../../../libDaisy/src/hid/midi.h ****                             {
 718              		.loc 7 185 29 view .LVU178
 719 0218 36D1     		bne	.L79
 202:../../../libDaisy/src/hid/midi.h ****                                 //sysex
 720              		.loc 7 202 69 view .LVU179
 721 021a 01F00703 		and	r3, r1, #7
 201:../../../libDaisy/src/hid/midi.h ****                                                                     & 0x07);
 722              		.loc 7 201 37 view .LVU180
 723 021e 85F89330 		strb	r3, [r5, #147]
 204:../../../libDaisy/src/hid/midi.h ****                                 {
 724              		.loc 7 204 33 view .LVU181
 725 0222 3BB9     		cbnz	r3, .L26
 206:../../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 726              		.loc 7 206 45 view .LVU182
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 29


 727 0224 0322     		movs	r2, #3
 207:../../../libDaisy/src/hid/midi.h ****                                 }
 728              		.loc 7 207 73 view .LVU183
 729 0226 85F89230 		strb	r3, [r5, #146]
 206:../../../libDaisy/src/hid/midi.h ****                                     incoming_message_.sysex_message_len = 0;
 730              		.loc 7 206 45 view .LVU184
 731 022a 2A71     		strb	r2, [r5, #4]
 732 022c 09E7     		b	.L18
 733              	.LVL59:
 734              	.L78:
 286:../../../libDaisy/src/hid/midi.h ****                     }
 735              		.loc 7 286 48 view .LVU185
 736 022e 0023     		movs	r3, #0
 737 0230 2B72     		strb	r3, [r5, #8]
 738 0232 70E7     		b	.L38
 739              	.LVL60:
 740              	.L26:
 210:../../../libDaisy/src/hid/midi.h ****                                 {
 741              		.loc 7 210 38 view .LVU186
 742 0234 4B07     		lsls	r3, r1, #29
 743 0236 7FF504AF 		bpl	.L18
 744 023a 6E46     		mov	r6, sp
 212:../../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 745              		.loc 7 212 45 view .LVU187
 746 023c 2871     		strb	r0, [r5, #4]
 747              	.LVL61:
 212:../../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 748              		.loc 7 212 45 view .LVU188
 749 023e 9022     		movs	r2, #144
 750 0240 05F10801 		add	r1, r5, #8
 751              	.LVL62:
 212:../../../libDaisy/src/hid/midi.h ****                                     event_q_.Write(incoming_message_);
 752              		.loc 7 212 45 view .LVU189
 753 0244 3046     		mov	r0, r6
 754 0246 FFF7FEFF 		bl	memcpy
 755              	.LVL63:
 756              	.LBB214:
 757              	.LBI214:
  44:../../../libDaisy/src/util/ringbuffer.h ****     {
 758              		.loc 10 44 17 is_stmt 1 view .LVU190
 759              	.L27:
 760              	.LBB215:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 761              		.loc 10 46 24 view .LVU191
 762              	.LBB216:
 763              	.LBI216:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 764              		.loc 10 30 19 view .LVU192
 765              	.LBB217:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 766              		.loc 10 32 17 is_stmt 0 view .LVU193
 767 024a D4F89830 		ldr	r3, [r4, #152]
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 768              		.loc 10 32 29 view .LVU194
 769 024e D4F89C20 		ldr	r2, [r4, #156]
 770              	.LVL64:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 30


 771              		.loc 10 32 40 view .LVU195
 772 0252 013B     		subs	r3, r3, #1
 773 0254 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 774              		.loc 10 32 47 view .LVU196
 775 0256 DBB2     		uxtb	r3, r3
 776              	.LBE217:
 777              	.LBE216:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 778              		.loc 10 46 24 view .LVU197
 779 0258 002B     		cmp	r3, #0
 780 025a F6D0     		beq	.L27
 781              	.LVL65:
 782              	.L74:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 783              		.loc 10 46 24 view .LVU198
 784 025c 9022     		movs	r2, #144
 785 025e 3146     		mov	r1, r6
 786 0260 0DEB0200 		add	r0, sp, r2
 787 0264 FFF7FEFF 		bl	memcpy
 788              	.LVL66:
 789              	.LBB218:
 790              	.LBI218:
  54:../../../libDaisy/src/util/ringbuffer.h ****     {
 791              		.loc 10 54 17 is_stmt 1 view .LVU199
 792              	.LBB219:
  56:../../../libDaisy/src/util/ringbuffer.h ****         buffer_[w] = v;
 793              		.loc 10 56 16 is_stmt 0 view .LVU200
 794 0268 D4F89C60 		ldr	r6, [r4, #156]
 795              	.LVL67:
  57:../../../libDaisy/src/util/ringbuffer.h ****         write_ptr_ = (w + 1) % size;
 796              		.loc 10 57 9 view .LVU201
 797 026c 24A9     		add	r1, sp, #144
 798 026e 9022     		movs	r2, #144
 799 0270 06EBC600 		add	r0, r6, r6, lsl #3
 800 0274 05EB0010 		add	r0, r5, r0, lsl #4
 801 0278 9830     		adds	r0, r0, #152
 802 027a FFF7FEFF 		bl	memcpy
 803              	.LVL68:
 804              		.loc 10 58 25 view .LVU202
 805 027e 731C     		adds	r3, r6, #1
 806              		.loc 10 58 30 view .LVU203
 807 0280 DBB2     		uxtb	r3, r3
 808              		.loc 10 58 20 view .LVU204
 809 0282 C4F89C30 		str	r3, [r4, #156]
 810              	.LVL69:
 811              		.loc 10 58 20 view .LVU205
 812              	.LBE219:
 813              	.LBE218:
 814              	.LBE215:
 815              	.LBE214:
 816 0286 DCE6     		b	.L18
 817              	.LVL70:
 818              	.L79:
 187:../../../libDaisy/src/hid/midi.h ****                                 running_status_        = SystemRealTime;
 819              		.loc 7 187 56 view .LVU206
 820 0288 0823     		movs	r3, #8
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 31


 821 028a 6E46     		mov	r6, sp
 822 028c 2B72     		strb	r3, [r5, #8]
 823 028e 3046     		mov	r0, r6
 188:../../../libDaisy/src/hid/midi.h ****                                 incoming_message_.srt_type
 824              		.loc 7 188 56 view .LVU207
 825 0290 84F8A430 		strb	r3, [r4, #164]
 191:../../../libDaisy/src/hid/midi.h **** 
 826              		.loc 7 191 46 view .LVU208
 827 0294 94F8B230 		ldrb	r3, [r4, #178]	@ zero_extendqisi2
 194:../../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 828              		.loc 7 194 41 view .LVU209
 829 0298 2A71     		strb	r2, [r5, #4]
 830              	.LVL71:
 194:../../../libDaisy/src/hid/midi.h ****                                 event_q_.Write(incoming_message_);
 831              		.loc 7 194 41 view .LVU210
 832 029a 9022     		movs	r2, #144
 191:../../../libDaisy/src/hid/midi.h **** 
 833              		.loc 7 191 46 view .LVU211
 834 029c 1940     		ands	r1, r1, r3
 835              	.LVL72:
 190:../../../libDaisy/src/hid/midi.h ****                                         byte & kSystemRealTimeMask);
 836              		.loc 7 190 37 view .LVU212
 837 029e 85F89410 		strb	r1, [r5, #148]
 838 02a2 05F10801 		add	r1, r5, #8
 839 02a6 FFF7FEFF 		bl	memcpy
 840              	.LVL73:
 841              	.LBB220:
 842              	.LBI220:
  44:../../../libDaisy/src/util/ringbuffer.h ****     {
 843              		.loc 10 44 17 is_stmt 1 view .LVU213
 844              	.L25:
 845              	.LBB221:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 846              		.loc 10 46 24 view .LVU214
 847              	.LBB222:
 848              	.LBI222:
  30:../../../libDaisy/src/util/ringbuffer.h ****     {
 849              		.loc 10 30 19 view .LVU215
 850              	.LBB223:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 851              		.loc 10 32 17 is_stmt 0 view .LVU216
 852 02aa D4F89830 		ldr	r3, [r4, #152]
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 853              		.loc 10 32 29 view .LVU217
 854 02ae D4F89C20 		ldr	r2, [r4, #156]
 855              	.LVL74:
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 856              		.loc 10 32 40 view .LVU218
 857 02b2 013B     		subs	r3, r3, #1
 858 02b4 9B1A     		subs	r3, r3, r2
  32:../../../libDaisy/src/util/ringbuffer.h ****     }
 859              		.loc 10 32 47 view .LVU219
 860 02b6 DBB2     		uxtb	r3, r3
 861              	.LBE223:
 862              	.LBE222:
  46:../../../libDaisy/src/util/ringbuffer.h ****             ;
 863              		.loc 10 46 24 view .LVU220
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 32


 864 02b8 002B     		cmp	r3, #0
 865 02ba F6D0     		beq	.L25
 866 02bc CEE7     		b	.L74
 867              	.LBE221:
 868              	.LBE220:
 869              		.cfi_endproc
 870              	.LFE5223:
 872 02be 00BF     		.section	.text.startup.main,"ax",%progbits
 873              		.align	1
 874              		.p2align 2,,3
 875              		.global	main
 876              		.syntax unified
 877              		.thumb
 878              		.thumb_func
 880              	main:
 881              	.LFB4790:
  26:usbMidi.cpp   **** 
  27:usbMidi.cpp   **** int main(void)
  28:usbMidi.cpp   **** {
 882              		.loc 9 28 1 is_stmt 1 view -0
 883              		.cfi_startproc
 884              		@ args = 0, pretend = 0, frame = 0
 885              		@ frame_needed = 0, uses_anonymous_args = 0
  29:usbMidi.cpp   ****     /** Basic initialization of Daisy hardware */
  30:usbMidi.cpp   ****     hw.Configure();
 886              		.loc 9 30 5 view .LVU222
  28:usbMidi.cpp   ****     /** Basic initialization of Daisy hardware */
 887              		.loc 9 28 1 is_stmt 0 view .LVU223
 888 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 889              		.cfi_def_cfa_offset 24
 890              		.cfi_offset 4, -24
 891              		.cfi_offset 5, -20
 892              		.cfi_offset 6, -16
 893              		.cfi_offset 7, -12
 894              		.cfi_offset 8, -8
 895              		.cfi_offset 14, -4
 896              	.LBB265:
 897              	.LBB266:
  97:../../../libDaisy/src/hid/midi.h **** 
 898              		.loc 7 97 9 view .LVU224
 899 0004 5C4E     		ldr	r6, .L100
 900 0006 0027     		movs	r7, #0
 901              	.LBE266:
 902              	.LBE265:
 903              		.loc 9 30 17 view .LVU225
 904 0008 5C48     		ldr	r0, .L100+4
 905              	.LBB275:
 906              	.LBB272:
  97:../../../libDaisy/src/hid/midi.h **** 
 907              		.loc 7 97 9 view .LVU226
 908 000a 06F51044 		add	r4, r6, #36864
 909              	.LBE272:
 910              	.LBE275:
 911              		.loc 9 30 17 view .LVU227
 912 000e FFF7FEFF 		bl	_ZN5daisy9DaisySeed9ConfigureEv
 913              	.LVL75:
  31:usbMidi.cpp   ****     hw.Init();
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 33


 914              		.loc 9 31 5 is_stmt 1 view .LVU228
 915              		.loc 9 31 12 is_stmt 0 view .LVU229
 916 0012 3946     		mov	r1, r7
 917 0014 5948     		ldr	r0, .L100+4
 918 0016 FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 919              	.LVL76:
  32:usbMidi.cpp   **** 
  33:usbMidi.cpp   ****     /** Initialize USB Midi 
  34:usbMidi.cpp   **** 		 *  by default this is set to use the built in (USB FS) peripheral.
  35:usbMidi.cpp   **** 		 * 
  36:usbMidi.cpp   **** 		 *  by setting midi_cfg.transport_config.periph = MidiUsbTransport::Config::EXTERNAL
  37:usbMidi.cpp   **** 		 *  the USB HS pins can be used (as FS) for MIDI 
  38:usbMidi.cpp   **** 		 */
  39:usbMidi.cpp   ****     MidiUsbHandler::Config midi_cfg;
 920              		.loc 9 39 5 is_stmt 1 view .LVU230
  40:usbMidi.cpp   ****     midi_cfg.transport_config.periph = MidiUsbTransport::Config::INTERNAL;
 921              		.loc 9 40 5 view .LVU231
  41:usbMidi.cpp   ****     midi.Init(midi_cfg);
 922              		.loc 9 41 5 view .LVU232
 923              	.LBB276:
 924              	.LBI265:
  95:../../../libDaisy/src/hid/midi.h ****     {
 925              		.loc 7 95 10 view .LVU233
 926              	.LBB273:
  99:../../../libDaisy/src/hid/midi.h **** 
 927              		.loc 7 99 24 is_stmt 0 view .LVU234
 928 001a 3946     		mov	r1, r7
 929 001c 04F1A800 		add	r0, r4, #168
  97:../../../libDaisy/src/hid/midi.h **** 
 930              		.loc 7 97 9 view .LVU235
 931 0020 84F8A570 		strb	r7, [r4, #165]
  99:../../../libDaisy/src/hid/midi.h **** 
 932              		.loc 7 99 24 view .LVU236
 933 0024 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
 934              	.LVL77:
 935              	.LBB267:
 936              	.LBI267:
  24:../../../libDaisy/src/util/ringbuffer.h **** 
 937              		.loc 10 24 17 is_stmt 1 view .LVU237
 938              	.LBE267:
 102:../../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 939              		.loc 7 102 32 is_stmt 0 view .LVU238
 940 0028 0A23     		movs	r3, #10
 941              	.LBB270:
 942              	.LBB268:
  24:../../../libDaisy/src/util/ringbuffer.h **** 
 943              		.loc 10 24 49 view .LVU239
 944 002a C4F89C70 		str	r7, [r4, #156]
 945              	.LBE268:
 946              	.LBE270:
 947              	.LBE273:
 948              	.LBE276:
  42:usbMidi.cpp   **** 
  43:usbMidi.cpp   ****     /** Initialize our test tone */
  44:usbMidi.cpp   ****     osc.Init(hw.AudioSampleRate());
 949              		.loc 9 44 13 view .LVU240
 950 002e 5348     		ldr	r0, .L100+4
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 34


 951              	.LBB277:
 952              	.LBB274:
 953              	.LBB271:
 954              	.LBB269:
  24:../../../libDaisy/src/util/ringbuffer.h **** 
 955              		.loc 10 24 36 view .LVU241
 956 0030 C4F89870 		str	r7, [r4, #152]
 957              	.LVL78:
  24:../../../libDaisy/src/util/ringbuffer.h **** 
 958              		.loc 10 24 36 view .LVU242
 959              	.LBE269:
 960              	.LBE271:
 102:../../../libDaisy/src/hid/midi.h ****         pstate_                = ParserEmpty;
 961              		.loc 7 102 32 view .LVU243
 962 0034 3372     		strb	r3, [r6, #8]
 103:../../../libDaisy/src/hid/midi.h ****     }
 963              		.loc 7 103 32 view .LVU244
 964 0036 3771     		strb	r7, [r6, #4]
 965              	.LVL79:
 103:../../../libDaisy/src/hid/midi.h ****     }
 966              		.loc 7 103 32 view .LVU245
 967              	.LBE274:
 968              	.LBE277:
 969              		.loc 9 44 5 is_stmt 1 view .LVU246
 970              		.loc 9 44 13 is_stmt 0 view .LVU247
 971 0038 FFF7FEFF 		bl	_ZN5daisy9DaisySeed15AudioSampleRateEv
 972              	.LVL80:
 973              	.LBB278:
 974              	.LBB279:
  17:../../../DaisySP/Source/Synthesis/oscillator.h ****     /** Choices for output waveforms, POLYBLEP are appropriately labeled. Others are naive forms.
  18:../../../DaisySP/Source/Synthesis/oscillator.h ****     */
  19:../../../DaisySP/Source/Synthesis/oscillator.h ****     enum
  20:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
  21:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SIN,
  22:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_TRI,
  23:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SAW,
  24:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_RAMP,
  25:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_SQUARE,
  26:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_TRI,
  27:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SAW,
  28:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SQUARE,
  29:../../../DaisySP/Source/Synthesis/oscillator.h ****         WAVE_LAST,
  30:../../../DaisySP/Source/Synthesis/oscillator.h ****     };
  31:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  32:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  33:../../../DaisySP/Source/Synthesis/oscillator.h ****     /** Initializes the Oscillator
  34:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  35:../../../DaisySP/Source/Synthesis/oscillator.h ****         \param sample_rate - sample rate of the audio engine being run, and the frequency that the 
  36:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  37:../../../DaisySP/Source/Synthesis/oscillator.h ****         Defaults:
  38:../../../DaisySP/Source/Synthesis/oscillator.h ****         - freq_ = 100 Hz
  39:../../../DaisySP/Source/Synthesis/oscillator.h ****         - amp_ = 0.5
  40:../../../DaisySP/Source/Synthesis/oscillator.h ****         - waveform_ = sine wave.
  41:../../../DaisySP/Source/Synthesis/oscillator.h ****     */
  42:../../../DaisySP/Source/Synthesis/oscillator.h ****     void Init(float sample_rate)
  43:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
  44:../../../DaisySP/Source/Synthesis/oscillator.h ****         sr_        = sample_rate;
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 35


  45:../../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 975              		.loc 6 45 27 view .LVU248
 976 003c F7EE006A 		vmov.f32	s13, #1.0e+0
  44:../../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 977              		.loc 6 44 20 view .LVU249
 978 0040 4F4D     		ldr	r5, .L100+8
 979              	.LBE279:
 980              	.LBE278:
 981              		.loc 9 44 13 view .LVU250
 982 0042 F0EE407A 		vmov.f32	s15, s0
 983              	.LVL81:
 984              	.LBB282:
 985              	.LBI278:
  42:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
 986              		.loc 6 42 10 is_stmt 1 view .LVU251
 987              	.LBB280:
  44:../../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 988              		.loc 6 44 9 view .LVU252
  46:../../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 989              		.loc 6 46 20 is_stmt 0 view .LVU253
 990 0046 9FED4F7A 		vldr.32	s14, .L100+12
  47:../../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 991              		.loc 6 47 20 view .LVU254
 992 004a 4FF07C53 		mov	r3, #1056964608
  48:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
  49:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
  50:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
  51:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 993              		.loc 6 51 34 view .LVU255
 994 004e 2846     		mov	r0, r5
 995 0050 B0EE470A 		vmov.f32	s0, s14
 996              	.LVL82:
  46:../../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 997              		.loc 6 46 20 view .LVU256
 998 0054 85ED027A 		vstr.32	s14, [r5, #8]
  45:../../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 999              		.loc 6 45 27 view .LVU257
 1000 0058 86EEA77A 		vdiv.f32	s14, s13, s15
  47:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 1001              		.loc 6 47 20 view .LVU258
 1002 005c 6B60     		str	r3, [r5, #4]	@ float
  48:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
 1003              		.loc 6 48 20 view .LVU259
 1004 005e EB60     		str	r3, [r5, #12]	@ float
  49:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 1005              		.loc 6 49 20 view .LVU260
 1006 0060 494B     		ldr	r3, .L100+16
  44:../../../DaisySP/Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 1007              		.loc 6 44 20 view .LVU261
 1008 0062 C5ED057A 		vstr.32	s15, [r5, #20]
  45:../../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1009              		.loc 6 45 9 is_stmt 1 view .LVU262
  49:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 1010              		.loc 6 49 20 is_stmt 0 view .LVU263
 1011 0066 2B61     		str	r3, [r5, #16]	@ float
  50:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 1012              		.loc 6 50 20 view .LVU264
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 36


 1013 0068 0023     		movs	r3, #0
 1014 006a EB61     		str	r3, [r5, #28]	@ float
  45:../../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1015              		.loc 6 45 20 view .LVU265
 1016 006c 85ED067A 		vstr.32	s14, [r5, #24]
  46:../../../DaisySP/Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 1017              		.loc 6 46 9 is_stmt 1 view .LVU266
  47:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 1018              		.loc 6 47 9 view .LVU267
  48:../../../DaisySP/Source/Synthesis/oscillator.h ****         pw_rad_    = pw_ * TWOPI_F;
 1019              		.loc 6 48 9 view .LVU268
  49:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 1020              		.loc 6 49 9 view .LVU269
  50:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 1021              		.loc 6 50 9 view .LVU270
 1022              		.loc 6 51 9 view .LVU271
 1023              		.loc 6 51 34 is_stmt 0 view .LVU272
 1024 0070 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1025              	.LVL83:
  52:../../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
  53:../../../DaisySP/Source/Synthesis/oscillator.h ****         eoc_       = true;
  54:../../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
 1026              		.loc 6 54 20 view .LVU273
 1027 0074 40F20113 		movw	r3, #257
  52:../../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1028              		.loc 6 52 20 view .LVU274
 1029 0078 2F70     		strb	r7, [r5]
 1030 007a 06F19807 		add	r7, r6, #152
 1031              	.LBE280:
 1032              	.LBE282:
  45:usbMidi.cpp   **** 
  46:usbMidi.cpp   ****     /** And start the audio callback */
  47:usbMidi.cpp   ****     hw.StartAudio(AudioCallback);
 1033              		.loc 9 47 18 view .LVU275
 1034 007e 4349     		ldr	r1, .L100+20
 1035 0080 3E48     		ldr	r0, .L100+4
 1036              	.LBB283:
 1037              	.LBB281:
  51:../../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1038              		.loc 6 51 20 view .LVU276
 1039 0082 85ED080A 		vstr.32	s0, [r5, #32]
  52:../../../DaisySP/Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1040              		.loc 6 52 9 is_stmt 1 view .LVU277
  53:../../../DaisySP/Source/Synthesis/oscillator.h ****         eor_       = true;
 1041              		.loc 6 53 9 view .LVU278
 1042              		.loc 6 54 9 view .LVU279
 1043              		.loc 6 54 20 is_stmt 0 view .LVU280
 1044 0086 AB85     		strh	r3, [r5, #44]	@ movhi
 1045              	.LVL84:
 1046              		.loc 6 54 20 view .LVU281
 1047              	.LBE281:
 1048              	.LBE283:
 1049              		.loc 9 47 5 is_stmt 1 view .LVU282
 1050              		.loc 9 47 18 is_stmt 0 view .LVU283
 1051 0088 FFF7FEFF 		bl	_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
 1052              	.LVL85:
 1053              	.L85:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 37


  48:usbMidi.cpp   ****     while(1)
 1054              		.loc 9 48 5 is_stmt 1 view .LVU284
 1055              	.LBB284:
  49:usbMidi.cpp   ****     {
  50:usbMidi.cpp   ****         /** Listen to MIDI for new changes */
  51:usbMidi.cpp   ****         midi.Listen();
 1056              		.loc 9 51 9 view .LVU285
 1057              	.LBB285:
 1058              	.LBI285:
 110:../../../libDaisy/src/hid/midi.h ****     {
 1059              		.loc 7 110 10 view .LVU286
 1060              	.LBB286:
 113:../../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 1061              		.loc 7 113 29 is_stmt 0 view .LVU287
 1062 008c FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 1063              	.LVL86:
 1064 0090 8046     		mov	r8, r0
 1065              	.LVL87:
 113:../../../libDaisy/src/hid/midi.h ****         while(transport_.Readable())
 1066              		.loc 7 113 29 view .LVU288
 1067 0092 07E0     		b	.L82
 1068              	.LVL88:
 1069              	.L98:
 116:../../../libDaisy/src/hid/midi.h ****             Parse(transport_.Rx());
 1070              		.loc 7 116 24 view .LVU289
 1071 0094 C4F8A080 		str	r8, [r4, #160]
 117:../../../libDaisy/src/hid/midi.h ****         }
 1072              		.loc 7 117 18 view .LVU290
 1073 0098 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport2RxEv
 1074              	.LVL89:
 1075 009c 0146     		mov	r1, r0
 1076 009e 3648     		ldr	r0, .L100
 1077 00a0 FFF7FEFF 		bl	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
 1078              	.LVL90:
 1079              	.L82:
 114:../../../libDaisy/src/hid/midi.h ****         {
 1080              		.loc 7 114 34 is_stmt 1 view .LVU291
 1081 00a4 3A48     		ldr	r0, .L100+24
 1082 00a6 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8ReadableEv
 1083              	.LVL91:
 1084 00aa 0346     		mov	r3, r0
 117:../../../libDaisy/src/hid/midi.h ****         }
 1085              		.loc 7 117 18 is_stmt 0 view .LVU292
 1086 00ac 3848     		ldr	r0, .L100+24
 114:../../../libDaisy/src/hid/midi.h ****         {
 1087              		.loc 7 114 34 view .LVU293
 1088 00ae 002B     		cmp	r3, #0
 1089 00b0 F0D1     		bne	.L98
 123:../../../libDaisy/src/hid/midi.h ****         {
 1090              		.loc 7 123 32 view .LVU294
 1091 00b2 3748     		ldr	r0, .L100+24
 1092 00b4 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8RxActiveEv
 1093              	.LVL92:
 123:../../../libDaisy/src/hid/midi.h ****         {
 1094              		.loc 7 123 9 view .LVU295
 1095 00b8 0346     		mov	r3, r0
 1096 00ba 0028     		cmp	r0, #0
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 38


 1097 00bc 54D0     		beq	.L99
 1098              	.LVL93:
 1099              	.L83:
 123:../../../libDaisy/src/hid/midi.h ****         {
 1100              		.loc 7 123 9 view .LVU296
 1101              	.LBE286:
 1102              	.LBE285:
  52:usbMidi.cpp   **** 
  53:usbMidi.cpp   ****         /** When there are messages waiting in the queue... */
  54:usbMidi.cpp   ****         while(midi.HasEvents())
 1103              		.loc 9 54 9 is_stmt 1 view .LVU297
 1104              		.loc 9 54 29 view .LVU298
 1105              	.LBB290:
 1106              	.LBI290:
 134:../../../libDaisy/src/hid/midi.h **** 
 1107              		.loc 7 134 10 view .LVU299
 1108              	.LBB291:
 1109              	.LBI291:
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1110              		.loc 10 36 19 view .LVU300
 1111              	.LBB292:
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1112              		.loc 10 36 46 is_stmt 0 view .LVU301
 1113 00be D4F89C30 		ldr	r3, [r4, #156]
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1114              		.loc 10 36 59 view .LVU302
 1115 00c2 D4F89820 		ldr	r2, [r4, #152]
 1116              	.LVL94:
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1117              		.loc 10 36 57 view .LVU303
 1118 00c6 9B1A     		subs	r3, r3, r2
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1119              		.loc 10 36 72 view .LVU304
 1120 00c8 DBB2     		uxtb	r3, r3
 1121              	.LBE292:
 1122              	.LBE291:
 1123              	.LBE290:
 1124              		.loc 9 54 29 view .LVU305
 1125 00ca 002B     		cmp	r3, #0
 1126 00cc DED0     		beq	.L85
 1127              	.L86:
 1128              	.LBB293:
 1129              	.LBB294:
 1130              	.LBB295:
 1131              	.LBB296:
  59:../../../libDaisy/src/util/ringbuffer.h ****     }
  60:../../../libDaisy/src/util/ringbuffer.h **** 
  61:../../../libDaisy/src/util/ringbuffer.h ****     /** Reads the first available element from the ring buffer
  62:../../../libDaisy/src/util/ringbuffer.h ****     \return read value
  63:../../../libDaisy/src/util/ringbuffer.h ****      */
  64:../../../libDaisy/src/util/ringbuffer.h ****     inline T Read()
  65:../../../libDaisy/src/util/ringbuffer.h ****     {
  66:../../../libDaisy/src/util/ringbuffer.h ****         while(!readable())
 1132              		.loc 10 66 24 is_stmt 1 view .LVU306
 1133              	.LVL95:
 1134              	.LBB297:
 1135              	.LBI297:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 39


  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1136              		.loc 10 36 19 view .LVU307
 1137              	.LBB298:
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1138              		.loc 10 36 46 is_stmt 0 view .LVU308
 1139 00ce D4F89C30 		ldr	r3, [r4, #156]
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1140              		.loc 10 36 59 view .LVU309
 1141 00d2 D4F89820 		ldr	r2, [r4, #152]
 1142              	.LVL96:
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1143              		.loc 10 36 57 view .LVU310
 1144 00d6 9B1A     		subs	r3, r3, r2
  36:../../../libDaisy/src/util/ringbuffer.h **** 
 1145              		.loc 10 36 72 view .LVU311
 1146 00d8 DBB2     		uxtb	r3, r3
 1147              	.LBE298:
 1148              	.LBE297:
 1149              		.loc 10 66 24 view .LVU312
 1150 00da 002B     		cmp	r3, #0
 1151 00dc F7D0     		beq	.L86
 1152              	.LVL97:
 1153              	.LBB299:
 1154              	.LBI299:
  67:../../../libDaisy/src/util/ringbuffer.h ****             ;
  68:../../../libDaisy/src/util/ringbuffer.h ****         return ImmediateRead();
  69:../../../libDaisy/src/util/ringbuffer.h ****     }
  70:../../../libDaisy/src/util/ringbuffer.h **** 
  71:../../../libDaisy/src/util/ringbuffer.h ****     /** Reads next element from ring buffer immediately
  72:../../../libDaisy/src/util/ringbuffer.h ****     \return read value
  73:../../../libDaisy/src/util/ringbuffer.h ****      */
  74:../../../libDaisy/src/util/ringbuffer.h ****     inline T ImmediateRead()
 1155              		.loc 10 74 14 is_stmt 1 view .LVU313
 1156              	.LBB300:
  75:../../../libDaisy/src/util/ringbuffer.h ****     {
  76:../../../libDaisy/src/util/ringbuffer.h ****         size_t r      = read_ptr_;
 1157              		.loc 10 76 16 is_stmt 0 view .LVU314
 1158 00de D4F89820 		ldr	r2, [r4, #152]
 1159              	.LVL98:
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1160              		.loc 10 77 16 view .LVU315
 1161 00e2 02EBC203 		add	r3, r2, r2, lsl #3
  78:../../../libDaisy/src/util/ringbuffer.h ****         read_ptr_     = (r + 1) % size;
 1162              		.loc 10 78 28 view .LVU316
 1163 00e6 0132     		adds	r2, r2, #1
 1164              	.LVL99:
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1165              		.loc 10 77 16 view .LVU317
 1166 00e8 1B01     		lsls	r3, r3, #4
 1167              		.loc 10 78 33 view .LVU318
 1168 00ea D2B2     		uxtb	r2, r2
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1169              		.loc 10 77 16 view .LVU319
 1170 00ec F95C     		ldrb	r1, [r7, r3]	@ zero_extendqisi2
 1171              	.LVL100:
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1172              		.loc 10 77 16 view .LVU320
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 40


 1173 00ee 3344     		add	r3, r3, r6
 1174              		.loc 10 78 23 view .LVU321
 1175 00f0 C4F89820 		str	r2, [r4, #152]
 1176              	.LVL101:
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1177              		.loc 10 77 16 view .LVU322
 1178 00f4 93F8A180 		ldrb	r8, [r3, #161]	@ zero_extendqisi2
 1179 00f8 93F8A030 		ldrb	r3, [r3, #160]	@ zero_extendqisi2
 1180              	.LVL102:
  77:../../../libDaisy/src/util/ringbuffer.h ****         T      result = buffer_[r];
 1181              		.loc 10 77 16 view .LVU323
 1182              	.LBE300:
 1183              	.LBE299:
 1184              	.LBE296:
 1185              	.LBE295:
 1186              	.LBE294:
  55:usbMidi.cpp   ****         {
  56:usbMidi.cpp   ****             /** Pull the oldest one from the list... */
  57:usbMidi.cpp   ****             auto msg = midi.PopEvent();
  58:usbMidi.cpp   ****             switch(msg.type)
 1187              		.loc 9 58 13 is_stmt 1 view .LVU324
 1188              	.LBB301:
 1189 00fc 51B3     		cbz	r1, .L87
 1190              	.LBE301:
 1191              	.LBE293:
 1192              	.LBE284:
  59:usbMidi.cpp   ****             {
  60:usbMidi.cpp   ****                 case NoteOn:
 1193              		.loc 9 60 17 view .LVU325
  61:usbMidi.cpp   ****                 {
 1194              		.loc 9 61 17 view .LVU326
 1195              	.LBB336:
 1196              	.LBB333:
 1197              	.LBB331:
 1198              	.LBB302:
  62:usbMidi.cpp   ****                     /** and change the frequency of the oscillator */
  63:usbMidi.cpp   ****                     auto note_msg = msg.AsNoteOn();
 1199              		.loc 9 63 21 view .LVU327
 1200              	.LVL103:
 1201              	.LBB303:
 1202              	.LBI303:
 1203              		.file 11 "../../../libDaisy/src/hid/MidiEvent.h"
   1:../../../libDaisy/src/hid/MidiEvent.h **** namespace daisy
   2:../../../libDaisy/src/hid/MidiEvent.h **** {
   3:../../../libDaisy/src/hid/MidiEvent.h **** /** @addtogroup midi MIDI
   4:../../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup human_interface
   5:../../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup libdaisy
   6:../../../libDaisy/src/hid/MidiEvent.h ****  *  @brief MIDI handlers, transports, and message types
   7:../../../libDaisy/src/hid/MidiEvent.h ****  *  @{
   8:../../../libDaisy/src/hid/MidiEvent.h ****  */
   9:../../../libDaisy/src/hid/MidiEvent.h **** 
  10:../../../libDaisy/src/hid/MidiEvent.h **** /** @defgroup midi_events MIDI_EVENTS 
  11:../../../libDaisy/src/hid/MidiEvent.h ****  *  @{
  12:../../../libDaisy/src/hid/MidiEvent.h **** */
  13:../../../libDaisy/src/hid/MidiEvent.h **** 
  14:../../../libDaisy/src/hid/MidiEvent.h **** /** Parsed from the Status Byte, these are the common Midi Messages that can be handled. \n
  15:../../../libDaisy/src/hid/MidiEvent.h **** At this time only 3-byte messages are correctly parsed into MidiEvents.
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 41


  16:../../../libDaisy/src/hid/MidiEvent.h **** */
  17:../../../libDaisy/src/hid/MidiEvent.h **** enum MidiMessageType
  18:../../../libDaisy/src/hid/MidiEvent.h **** {
  19:../../../libDaisy/src/hid/MidiEvent.h ****     NoteOff,               /**< & */
  20:../../../libDaisy/src/hid/MidiEvent.h ****     NoteOn,                /**< & */
  21:../../../libDaisy/src/hid/MidiEvent.h ****     PolyphonicKeyPressure, /**< & */
  22:../../../libDaisy/src/hid/MidiEvent.h ****     ControlChange,         /**< & */
  23:../../../libDaisy/src/hid/MidiEvent.h ****     ProgramChange,         /**< & */
  24:../../../libDaisy/src/hid/MidiEvent.h ****     ChannelPressure,       /**< & */
  25:../../../libDaisy/src/hid/MidiEvent.h ****     PitchBend,             /**< & */
  26:../../../libDaisy/src/hid/MidiEvent.h ****     SystemCommon,          /**< & */
  27:../../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTime,        /**< & */
  28:../../../libDaisy/src/hid/MidiEvent.h ****     ChannelMode,           /**< & */
  29:../../../libDaisy/src/hid/MidiEvent.h ****     MessageLast,           /**< & */
  30:../../../libDaisy/src/hid/MidiEvent.h **** };
  31:../../../libDaisy/src/hid/MidiEvent.h **** 
  32:../../../libDaisy/src/hid/MidiEvent.h **** enum SystemCommonType
  33:../../../libDaisy/src/hid/MidiEvent.h **** {
  34:../../../libDaisy/src/hid/MidiEvent.h ****     SystemExclusive,     /**< & */
  35:../../../libDaisy/src/hid/MidiEvent.h ****     MTCQuarterFrame,     /**< & */
  36:../../../libDaisy/src/hid/MidiEvent.h ****     SongPositionPointer, /**< & */
  37:../../../libDaisy/src/hid/MidiEvent.h ****     SongSelect,          /**< & */
  38:../../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined0,        /**< & */
  39:../../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined1,        /**< & */
  40:../../../libDaisy/src/hid/MidiEvent.h ****     TuneRequest,         /**< & */
  41:../../../libDaisy/src/hid/MidiEvent.h ****     SysExEnd,            /**< & */
  42:../../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonLast,    /**< & */
  43:../../../libDaisy/src/hid/MidiEvent.h **** };
  44:../../../libDaisy/src/hid/MidiEvent.h **** 
  45:../../../libDaisy/src/hid/MidiEvent.h **** enum SystemRealTimeType
  46:../../../libDaisy/src/hid/MidiEvent.h **** {
  47:../../../libDaisy/src/hid/MidiEvent.h ****     TimingClock,        /**< & */
  48:../../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined0,      /**< & */
  49:../../../libDaisy/src/hid/MidiEvent.h ****     Start,              /**< & */
  50:../../../libDaisy/src/hid/MidiEvent.h ****     Continue,           /**< & */
  51:../../../libDaisy/src/hid/MidiEvent.h ****     Stop,               /**< & */
  52:../../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined1,      /**< & */
  53:../../../libDaisy/src/hid/MidiEvent.h ****     ActiveSensing,      /**< & */
  54:../../../libDaisy/src/hid/MidiEvent.h ****     Reset,              /**< & */
  55:../../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeLast, /**< & */
  56:../../../libDaisy/src/hid/MidiEvent.h **** };
  57:../../../libDaisy/src/hid/MidiEvent.h **** 
  58:../../../libDaisy/src/hid/MidiEvent.h **** enum ChannelModeType
  59:../../../libDaisy/src/hid/MidiEvent.h **** {
  60:../../../libDaisy/src/hid/MidiEvent.h ****     AllSoundOff,         /**< & */
  61:../../../libDaisy/src/hid/MidiEvent.h ****     ResetAllControllers, /**< & */
  62:../../../libDaisy/src/hid/MidiEvent.h ****     LocalControl,        /**< & */
  63:../../../libDaisy/src/hid/MidiEvent.h ****     AllNotesOff,         /**< & */
  64:../../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOff,         /**< & */
  65:../../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOn,          /**< & */
  66:../../../libDaisy/src/hid/MidiEvent.h ****     MonoModeOn,          /**< & */
  67:../../../libDaisy/src/hid/MidiEvent.h ****     PolyModeOn,          /**< & */
  68:../../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeLast,     /**< & */
  69:../../../libDaisy/src/hid/MidiEvent.h **** };
  70:../../../libDaisy/src/hid/MidiEvent.h **** 
  71:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  72:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 42


  73:../../../libDaisy/src/hid/MidiEvent.h **** */
  74:../../../libDaisy/src/hid/MidiEvent.h **** struct NoteOffEvent
  75:../../../libDaisy/src/hid/MidiEvent.h **** {
  76:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  77:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  78:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  79:../../../libDaisy/src/hid/MidiEvent.h **** };
  80:../../../libDaisy/src/hid/MidiEvent.h **** 
  81:../../../libDaisy/src/hid/MidiEvent.h **** 
  82:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  83:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  84:../../../libDaisy/src/hid/MidiEvent.h **** */
  85:../../../libDaisy/src/hid/MidiEvent.h **** struct NoteOnEvent
  86:../../../libDaisy/src/hid/MidiEvent.h **** {
  87:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  88:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  89:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  90:../../../libDaisy/src/hid/MidiEvent.h **** };
  91:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and pressure data for a given channel.
  92:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  93:../../../libDaisy/src/hid/MidiEvent.h **** */
  94:../../../libDaisy/src/hid/MidiEvent.h **** struct PolyphonicKeyPressureEvent
  95:../../../libDaisy/src/hid/MidiEvent.h **** {
  96:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;
  97:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;
  98:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure;
  99:../../../libDaisy/src/hid/MidiEvent.h **** };
 100:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing control number, and value for a given channel.
 101:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 102:../../../libDaisy/src/hid/MidiEvent.h **** */
 103:../../../libDaisy/src/hid/MidiEvent.h **** struct ControlChangeEvent
 104:../../../libDaisy/src/hid/MidiEvent.h **** {
 105:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;        /**< & */
 106:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t control_number; /**< & */
 107:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;          /**< & */
 108:../../../libDaisy/src/hid/MidiEvent.h **** };
 109:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing new program number, for a given channel.
 110:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 111:../../../libDaisy/src/hid/MidiEvent.h **** */
 112:../../../libDaisy/src/hid/MidiEvent.h **** struct ProgramChangeEvent
 113:../../../libDaisy/src/hid/MidiEvent.h **** {
 114:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 115:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t program; /**< & */
 116:../../../libDaisy/src/hid/MidiEvent.h **** };
 117:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pressure (aftertouch), for a given channel.
 118:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 119:../../../libDaisy/src/hid/MidiEvent.h **** */
 120:../../../libDaisy/src/hid/MidiEvent.h **** struct ChannelPressureEvent
 121:../../../libDaisy/src/hid/MidiEvent.h **** {
 122:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
 123:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure; /**< & */
 124:../../../libDaisy/src/hid/MidiEvent.h **** };
 125:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pitch bend value for a given channel.
 126:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 127:../../../libDaisy/src/hid/MidiEvent.h **** */
 128:../../../libDaisy/src/hid/MidiEvent.h **** struct PitchBendEvent
 129:../../../libDaisy/src/hid/MidiEvent.h **** {
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 43


 130:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 131:../../../libDaisy/src/hid/MidiEvent.h ****     int16_t value;   /**< & */
 132:../../../libDaisy/src/hid/MidiEvent.h **** };
 133:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing channel mode event for a given channel.
 134:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 135:../../../libDaisy/src/hid/MidiEvent.h **** */
 136:../../../libDaisy/src/hid/MidiEvent.h **** struct ChannelModeEvent
 137:../../../libDaisy/src/hid/MidiEvent.h **** {
 138:../../../libDaisy/src/hid/MidiEvent.h ****     int             channel;    /**< & */
 139:../../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType event_type; /**< & */
 140:../../../libDaisy/src/hid/MidiEvent.h ****     int16_t         value;      /**< & */
 141:../../../libDaisy/src/hid/MidiEvent.h **** };
 142:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sysex data.
 143:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 144:../../../libDaisy/src/hid/MidiEvent.h **** */
 145:../../../libDaisy/src/hid/MidiEvent.h **** struct SystemExclusiveEvent
 146:../../../libDaisy/src/hid/MidiEvent.h **** {
 147:../../../libDaisy/src/hid/MidiEvent.h ****     int     length;
 148:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t data[SYSEX_BUFFER_LEN]; /**< & */
 149:../../../libDaisy/src/hid/MidiEvent.h **** };
 150:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing QuarterFrame data.
 151:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 152:../../../libDaisy/src/hid/MidiEvent.h **** */
 153:../../../libDaisy/src/hid/MidiEvent.h **** struct MTCQuarterFrameEvent
 154:../../../libDaisy/src/hid/MidiEvent.h **** {
 155:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t message_type; /**< & */
 156:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;        /**< & */
 157:../../../libDaisy/src/hid/MidiEvent.h **** };
 158:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song position data.
 159:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 160:../../../libDaisy/src/hid/MidiEvent.h **** */
 161:../../../libDaisy/src/hid/MidiEvent.h **** struct SongPositionPointerEvent
 162:../../../libDaisy/src/hid/MidiEvent.h **** {
 163:../../../libDaisy/src/hid/MidiEvent.h ****     uint16_t position; /**< & */
 164:../../../libDaisy/src/hid/MidiEvent.h **** };
 165:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song select data.
 166:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 167:../../../libDaisy/src/hid/MidiEvent.h **** */
 168:../../../libDaisy/src/hid/MidiEvent.h **** struct SongSelectEvent
 169:../../../libDaisy/src/hid/MidiEvent.h **** {
 170:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t song; /**< & */
 171:../../../libDaisy/src/hid/MidiEvent.h **** };
 172:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sound off data.
 173:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 174:../../../libDaisy/src/hid/MidiEvent.h **** */
 175:../../../libDaisy/src/hid/MidiEvent.h **** struct AllSoundOffEvent
 176:../../../libDaisy/src/hid/MidiEvent.h **** {
 177:../../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 178:../../../libDaisy/src/hid/MidiEvent.h **** };
 179:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing ResetAllControllersEvent data.
 180:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 181:../../../libDaisy/src/hid/MidiEvent.h **** */
 182:../../../libDaisy/src/hid/MidiEvent.h **** struct ResetAllControllersEvent
 183:../../../libDaisy/src/hid/MidiEvent.h **** {
 184:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 185:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;   /**< & */
 186:../../../libDaisy/src/hid/MidiEvent.h **** };
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 44


 187:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing LocalControlEvent data.
 188:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 189:../../../libDaisy/src/hid/MidiEvent.h **** */
 190:../../../libDaisy/src/hid/MidiEvent.h **** struct LocalControlEvent
 191:../../../libDaisy/src/hid/MidiEvent.h **** {
 192:../../../libDaisy/src/hid/MidiEvent.h ****     int  channel;           /**< & */
 193:../../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_off; /**< & */
 194:../../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_on;  /**< & */
 195:../../../libDaisy/src/hid/MidiEvent.h **** };
 196:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing AllNotesOffEvent data.
 197:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 198:../../../libDaisy/src/hid/MidiEvent.h **** */
 199:../../../libDaisy/src/hid/MidiEvent.h **** struct AllNotesOffEvent
 200:../../../libDaisy/src/hid/MidiEvent.h **** {
 201:../../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 202:../../../libDaisy/src/hid/MidiEvent.h **** };
 203:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOffEvent data. 
 204:../../../libDaisy/src/hid/MidiEvent.h ****  * Can be made from MidiEvent
 205:../../../libDaisy/src/hid/MidiEvent.h **** */
 206:../../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOffEvent
 207:../../../libDaisy/src/hid/MidiEvent.h **** {
 208:../../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 209:../../../libDaisy/src/hid/MidiEvent.h **** };
 210:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOnEvent data.
 211:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 212:../../../libDaisy/src/hid/MidiEvent.h **** */
 213:../../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOnEvent
 214:../../../libDaisy/src/hid/MidiEvent.h **** {
 215:../../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 216:../../../libDaisy/src/hid/MidiEvent.h **** };
 217:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing MonoModeOnEvent data.
 218:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 219:../../../libDaisy/src/hid/MidiEvent.h **** */
 220:../../../libDaisy/src/hid/MidiEvent.h **** struct MonoModeOnEvent
 221:../../../libDaisy/src/hid/MidiEvent.h **** {
 222:../../../libDaisy/src/hid/MidiEvent.h ****     int     channel;      /**< & */
 223:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t num_channels; /**< & */
 224:../../../libDaisy/src/hid/MidiEvent.h **** };
 225:../../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing PolyModeOnEvent data.
 226:../../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 227:../../../libDaisy/src/hid/MidiEvent.h **** */
 228:../../../libDaisy/src/hid/MidiEvent.h **** struct PolyModeOnEvent
 229:../../../libDaisy/src/hid/MidiEvent.h **** {
 230:../../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 231:../../../libDaisy/src/hid/MidiEvent.h **** };
 232:../../../libDaisy/src/hid/MidiEvent.h **** 
 233:../../../libDaisy/src/hid/MidiEvent.h **** 
 234:../../../libDaisy/src/hid/MidiEvent.h **** /** Simple MidiEvent with message type, channel, and data[2] members.
 235:../../../libDaisy/src/hid/MidiEvent.h **** */
 236:../../../libDaisy/src/hid/MidiEvent.h **** struct MidiEvent
 237:../../../libDaisy/src/hid/MidiEvent.h **** {
 238:../../../libDaisy/src/hid/MidiEvent.h ****     // Newer ish.
 239:../../../libDaisy/src/hid/MidiEvent.h ****     MidiMessageType    type;                         /**< & */
 240:../../../libDaisy/src/hid/MidiEvent.h ****     int                channel;                      /**< & */
 241:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            data[2];                      /**< & */
 242:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_data[SYSEX_BUFFER_LEN]; /**< & */
 243:../../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_message_len;
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 45


 244:../../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonType   sc_type;
 245:../../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeType srt_type;
 246:../../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType    cm_type;
 247:../../../libDaisy/src/hid/MidiEvent.h **** 
 248:../../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOffEvent struct */
 249:../../../libDaisy/src/hid/MidiEvent.h ****     NoteOffEvent AsNoteOff()
 250:../../../libDaisy/src/hid/MidiEvent.h ****     {
 251:../../../libDaisy/src/hid/MidiEvent.h ****         NoteOffEvent m;
 252:../../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 253:../../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 254:../../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 255:../../../libDaisy/src/hid/MidiEvent.h ****         return m;
 256:../../../libDaisy/src/hid/MidiEvent.h ****     }
 257:../../../libDaisy/src/hid/MidiEvent.h **** 
 258:../../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOnEvent struct */
 259:../../../libDaisy/src/hid/MidiEvent.h ****     NoteOnEvent AsNoteOn()
 1204              		.loc 11 259 17 view .LVU328
 1205              	.LBB304:
 260:../../../libDaisy/src/hid/MidiEvent.h ****     {
 261:../../../libDaisy/src/hid/MidiEvent.h ****         NoteOnEvent m;
 1206              		.loc 11 261 9 view .LVU329
 262:../../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 1207              		.loc 11 262 9 view .LVU330
 263:../../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 1208              		.loc 11 263 9 view .LVU331
 264:../../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 1209              		.loc 11 264 9 view .LVU332
 265:../../../libDaisy/src/hid/MidiEvent.h ****         return m;
 1210              		.loc 11 265 9 view .LVU333
 1211              		.loc 11 265 9 is_stmt 0 view .LVU334
 1212              	.LBE304:
 1213              	.LBE303:
  64:usbMidi.cpp   ****                     if(note_msg.velocity != 0)
 1214              		.loc 9 64 21 is_stmt 1 view .LVU335
 1215              	.LBE302:
  58:usbMidi.cpp   ****             {
 1216              		.loc 9 58 13 is_stmt 0 view .LVU336
 1217 00fe 0129     		cmp	r1, #1
 1218 0100 DDD1     		bne	.L83
 1219              	.LBB325:
 1220              	.LBB305:
 1221              		.loc 9 64 21 view .LVU337
 1222 0102 B8F1000F 		cmp	r8, #0
 1223 0106 DAD0     		beq	.L83
 1224              	.LBB306:
  65:usbMidi.cpp   ****                     {
  66:usbMidi.cpp   ****                         // Map the velocity to a suitable amplitude range (e.g., 0.0 to 1.0)
  67:usbMidi.cpp   ****                         float amplitude
 1225              		.loc 9 67 25 is_stmt 1 view .LVU338
 1226              	.LVL104:
  68:usbMidi.cpp   ****                             = static_cast<float>(note_msg.velocity) / 127.0f;
  69:usbMidi.cpp   **** 
  70:usbMidi.cpp   ****                         osc.SetFreq(mtof(note_msg.note));
 1227              		.loc 9 70 25 view .LVU339
 1228              	.LBB307:
 1229              	.LBI307:
 1230              		.file 12 "../../../DaisySP/Source/Utility/dsp.h"
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 46


   1:../../../DaisySP/Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
   2:../../../DaisySP/Source/Utility/dsp.h **** */
   3:../../../DaisySP/Source/Utility/dsp.h **** #pragma once
   4:../../../DaisySP/Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
   5:../../../DaisySP/Source/Utility/dsp.h **** #define DSY_CORE_DSP
   6:../../../DaisySP/Source/Utility/dsp.h **** #include <cassert>
   7:../../../DaisySP/Source/Utility/dsp.h **** #include <cstdint>
   8:../../../DaisySP/Source/Utility/dsp.h **** #include <random>
   9:../../../DaisySP/Source/Utility/dsp.h **** #include <cmath>
  10:../../../DaisySP/Source/Utility/dsp.h **** 
  11:../../../DaisySP/Source/Utility/dsp.h **** /** PIs
  12:../../../DaisySP/Source/Utility/dsp.h **** */
  13:../../../DaisySP/Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  14:../../../DaisySP/Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  15:../../../DaisySP/Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  16:../../../DaisySP/Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  17:../../../DaisySP/Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  18:../../../DaisySP/Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  19:../../../DaisySP/Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  20:../../../DaisySP/Source/Utility/dsp.h **** 
  21:../../../DaisySP/Source/Utility/dsp.h **** namespace daisysp
  22:../../../DaisySP/Source/Utility/dsp.h **** {
  23:../../../DaisySP/Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  24:../../../DaisySP/Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  25:../../../DaisySP/Source/Utility/dsp.h **** 
  26:../../../DaisySP/Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  27:../../../DaisySP/Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  28:../../../DaisySP/Source/Utility/dsp.h **** 
  29:../../../DaisySP/Source/Utility/dsp.h **** /** efficient floating point min/max
  30:../../../DaisySP/Source/Utility/dsp.h **** c/o stephen mccaul
  31:../../../DaisySP/Source/Utility/dsp.h **** */
  32:../../../DaisySP/Source/Utility/dsp.h **** inline float fmax(float a, float b)
  33:../../../DaisySP/Source/Utility/dsp.h **** {
  34:../../../DaisySP/Source/Utility/dsp.h ****     float r;
  35:../../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  36:../../../DaisySP/Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  37:../../../DaisySP/Source/Utility/dsp.h **** #else
  38:../../../DaisySP/Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  39:../../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  40:../../../DaisySP/Source/Utility/dsp.h ****     return r;
  41:../../../DaisySP/Source/Utility/dsp.h **** }
  42:../../../DaisySP/Source/Utility/dsp.h **** 
  43:../../../DaisySP/Source/Utility/dsp.h **** inline float fmin(float a, float b)
  44:../../../DaisySP/Source/Utility/dsp.h **** {
  45:../../../DaisySP/Source/Utility/dsp.h ****     float r;
  46:../../../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  47:../../../DaisySP/Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  48:../../../DaisySP/Source/Utility/dsp.h **** #else
  49:../../../DaisySP/Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  50:../../../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  51:../../../DaisySP/Source/Utility/dsp.h ****     return r;
  52:../../../DaisySP/Source/Utility/dsp.h **** }
  53:../../../DaisySP/Source/Utility/dsp.h **** 
  54:../../../DaisySP/Source/Utility/dsp.h **** /** quick fp clamp
  55:../../../DaisySP/Source/Utility/dsp.h **** */
  56:../../../DaisySP/Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  57:../../../DaisySP/Source/Utility/dsp.h **** {
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 47


  58:../../../DaisySP/Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  59:../../../DaisySP/Source/Utility/dsp.h **** }
  60:../../../DaisySP/Source/Utility/dsp.h **** 
  61:../../../DaisySP/Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  62:../../../DaisySP/Source/Utility/dsp.h **** Original code by Stefan Stenzel
  63:../../../DaisySP/Source/Utility/dsp.h **** These are approximations
  64:../../../DaisySP/Source/Utility/dsp.h **** */
  65:../../../DaisySP/Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  66:../../../DaisySP/Source/Utility/dsp.h **** {
  67:../../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  68:../../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  69:../../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  70:../../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  71:../../../DaisySP/Source/Utility/dsp.h ****     l <<= (n - 1);
  72:../../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  73:../../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  74:../../../DaisySP/Source/Utility/dsp.h ****     return f;
  75:../../../DaisySP/Source/Utility/dsp.h **** }
  76:../../../DaisySP/Source/Utility/dsp.h **** 
  77:../../../DaisySP/Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  78:../../../DaisySP/Source/Utility/dsp.h **** {
  79:../../../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  80:../../../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  81:../../../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  82:../../../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  83:../../../DaisySP/Source/Utility/dsp.h ****     l >>= (n = 1);
  84:../../../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  85:../../../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  86:../../../DaisySP/Source/Utility/dsp.h ****     return f;
  87:../../../DaisySP/Source/Utility/dsp.h **** }
  88:../../../DaisySP/Source/Utility/dsp.h **** 
  89:../../../DaisySP/Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
  90:../../../DaisySP/Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
  91:../../../DaisySP/Source/Utility/dsp.h **** */
  92:../../../DaisySP/Source/Utility/dsp.h **** inline float pow10f(float f)
  93:../../../DaisySP/Source/Utility/dsp.h **** {
  94:../../../DaisySP/Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
  95:../../../DaisySP/Source/Utility/dsp.h **** }
  96:../../../DaisySP/Source/Utility/dsp.h **** 
  97:../../../DaisySP/Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
  98:../../../DaisySP/Source/Utility/dsp.h **** About 25% performance increase over std::log10f
  99:../../../DaisySP/Source/Utility/dsp.h **** */
 100:../../../DaisySP/Source/Utility/dsp.h **** inline float fastlog2f(float f)
 101:../../../DaisySP/Source/Utility/dsp.h **** {
 102:../../../DaisySP/Source/Utility/dsp.h ****     float frac;
 103:../../../DaisySP/Source/Utility/dsp.h ****     int   exp;
 104:../../../DaisySP/Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
 105:../../../DaisySP/Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 106:../../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 107:../../../DaisySP/Source/Utility/dsp.h ****     f += -4.11852516267426f;
 108:../../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 109:../../../DaisySP/Source/Utility/dsp.h ****     f += 6.02197014179219f;
 110:../../../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 111:../../../DaisySP/Source/Utility/dsp.h ****     f += -3.13396450166353f;
 112:../../../DaisySP/Source/Utility/dsp.h ****     f += exp;
 113:../../../DaisySP/Source/Utility/dsp.h ****     return (f);
 114:../../../DaisySP/Source/Utility/dsp.h **** }
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 48


 115:../../../DaisySP/Source/Utility/dsp.h **** 
 116:../../../DaisySP/Source/Utility/dsp.h **** inline float fastlog10f(float f)
 117:../../../DaisySP/Source/Utility/dsp.h **** {
 118:../../../DaisySP/Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 119:../../../DaisySP/Source/Utility/dsp.h **** }
 120:../../../DaisySP/Source/Utility/dsp.h **** 
 121:../../../DaisySP/Source/Utility/dsp.h **** /** Midi to frequency helper
 122:../../../DaisySP/Source/Utility/dsp.h **** */
 123:../../../DaisySP/Source/Utility/dsp.h **** inline float mtof(float m)
 1231              		.loc 12 123 14 view .LVU340
 1232              	.LBB308:
 124:../../../DaisySP/Source/Utility/dsp.h **** {
 125:../../../DaisySP/Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 1233              		.loc 12 125 5 view .LVU341
 1234              	.LBE308:
 1235              	.LBE307:
 1236              		.loc 9 70 36 is_stmt 0 view .LVU342
 1237 0108 07EE903A 		vmov	s15, r3	@ int
 1238              	.LBB312:
 1239              	.LBB309:
 1240              		.loc 12 125 23 view .LVU343
 1241 010c 9FED217A 		vldr.32	s14, .L100+28
 1242              		.loc 12 125 16 view .LVU344
 1243 0110 F2EE080A 		vmov.f32	s1, #1.2e+1
 1244              	.LBE309:
 1245              	.LBE312:
 1246              		.loc 9 70 36 view .LVU345
 1247 0114 F8EE677A 		vcvt.f32.u32	s15, s15
 1248              	.LBB313:
 1249              	.LBB310:
 1250              		.loc 12 125 16 view .LVU346
 1251 0118 B0EE000A 		vmov.f32	s0, #2.0e+0
 1252              		.loc 12 125 23 view .LVU347
 1253 011c 77EEC77A 		vsub.f32	s15, s15, s14
 1254              		.loc 12 125 16 view .LVU348
 1255 0120 C7EEA00A 		vdiv.f32	s1, s15, s1
 1256 0124 FFF7FEFF 		bl	powf
 1257              	.LVL105:
 1258              		.loc 12 125 43 view .LVU349
 1259 0128 DFED1B7A 		vldr.32	s15, .L100+32
 1260              	.LBE310:
 1261              	.LBE313:
 1262              	.LBB314:
 1263              	.LBB315:
  55:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
  56:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  57:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  58:../../../DaisySP/Source/Synthesis/oscillator.h ****     /** Changes the frequency of the Oscillator, and recalculates phase increment.
  59:../../../DaisySP/Source/Synthesis/oscillator.h ****     */
  60:../../../DaisySP/Source/Synthesis/oscillator.h ****     inline void SetFreq(const float f)
  61:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         freq_      = f;
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1264              		.loc 6 63 34 view .LVU350
 1265 012c 1448     		ldr	r0, .L100+8
 1266              	.LBE315:
 1267              	.LBE314:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 49


 1268              	.LBB318:
 1269              	.LBB311:
 1270              		.loc 12 125 43 view .LVU351
 1271 012e 20EE270A 		vmul.f32	s0, s0, s15
 1272              	.LVL106:
 1273              		.loc 12 125 43 view .LVU352
 1274              	.LBE311:
 1275              	.LBE318:
 1276              	.LBB319:
 1277              	.LBI314:
  60:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1278              		.loc 6 60 17 is_stmt 1 view .LVU353
 1279              	.LBB316:
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1280              		.loc 6 62 9 view .LVU354
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1281              		.loc 6 62 20 is_stmt 0 view .LVU355
 1282 0132 85ED020A 		vstr.32	s0, [r5, #8]
 1283              		.loc 6 63 9 is_stmt 1 view .LVU356
 1284              		.loc 6 63 34 is_stmt 0 view .LVU357
 1285 0136 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1286              	.LVL107:
 1287              		.loc 6 63 34 view .LVU358
 1288              	.LBE316:
 1289              	.LBE319:
  68:usbMidi.cpp   **** 
 1290              		.loc 9 68 31 view .LVU359
 1291 013a 07EE908A 		vmov	s15, r8	@ int
  67:usbMidi.cpp   ****                             = static_cast<float>(note_msg.velocity) / 127.0f;
 1292              		.loc 9 67 31 view .LVU360
 1293 013e DFED176A 		vldr.32	s13, .L100+36
 1294              	.LBB320:
 1295              	.LBB317:
 1296              		.loc 6 63 20 view .LVU361
 1297 0142 85ED080A 		vstr.32	s0, [r5, #32]
 1298              	.LVL108:
 1299              		.loc 6 63 20 view .LVU362
 1300              	.LBE317:
 1301              	.LBE320:
  71:usbMidi.cpp   ****                         osc.SetAmp(amplitude);
 1302              		.loc 9 71 25 is_stmt 1 view .LVU363
 1303              	.LBB321:
 1304              	.LBI321:
  64:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
  65:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  66:../../../DaisySP/Source/Synthesis/oscillator.h **** 
  67:../../../DaisySP/Source/Synthesis/oscillator.h ****     /** Sets the amplitude of the waveform.
  68:../../../DaisySP/Source/Synthesis/oscillator.h ****     */
  69:../../../DaisySP/Source/Synthesis/oscillator.h ****     inline void SetAmp(const float a) { amp_ = a; }
 1305              		.loc 6 69 17 view .LVU364
 1306              	.LBB322:
 1307              		.loc 6 69 41 view .LVU365
 1308              	.LBE322:
 1309              	.LBE321:
  68:usbMidi.cpp   **** 
 1310              		.loc 9 68 31 is_stmt 0 view .LVU366
 1311 0146 F8EE677A 		vcvt.f32.u32	s15, s15
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 50


  67:usbMidi.cpp   ****                             = static_cast<float>(note_msg.velocity) / 127.0f;
 1312              		.loc 9 67 31 view .LVU367
 1313 014a 87EEA67A 		vdiv.f32	s14, s15, s13
 1314              	.LBB324:
 1315              	.LBB323:
 1316              		.loc 6 69 46 view .LVU368
 1317 014e 85ED017A 		vstr.32	s14, [r5, #4]
 1318              		.loc 6 69 51 view .LVU369
 1319 0152 B4E7     		b	.L83
 1320              	.LVL109:
 1321              	.L87:
 1322              		.loc 6 69 51 view .LVU370
 1323              	.LBE323:
 1324              	.LBE324:
 1325              	.LBE306:
 1326              	.LBE305:
 1327              	.LBE325:
 1328              	.LBE331:
 1329              	.LBE333:
 1330              	.LBE336:
  72:usbMidi.cpp   ****                     }
  73:usbMidi.cpp   ****                 }
  74:usbMidi.cpp   ****                 break;
  75:usbMidi.cpp   ****                 case NoteOff:
 1331              		.loc 9 75 17 is_stmt 1 view .LVU371
  76:usbMidi.cpp   ****                 {
 1332              		.loc 9 76 17 view .LVU372
 1333              	.LBB337:
 1334              	.LBB334:
 1335              	.LBB332:
 1336              	.LBB326:
  77:usbMidi.cpp   ****                     /** Handle Note Off message */
  78:usbMidi.cpp   ****                     auto note_msg = msg.AsNoteOff();
 1337              		.loc 9 78 21 view .LVU373
 1338              	.LBB327:
 1339              	.LBI327:
 249:../../../libDaisy/src/hid/MidiEvent.h ****     {
 1340              		.loc 11 249 18 view .LVU374
 1341              	.LBB328:
 251:../../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 1342              		.loc 11 251 9 view .LVU375
 252:../../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 1343              		.loc 11 252 9 view .LVU376
 253:../../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 1344              		.loc 11 253 9 view .LVU377
 254:../../../libDaisy/src/hid/MidiEvent.h ****         return m;
 1345              		.loc 11 254 9 view .LVU378
 255:../../../libDaisy/src/hid/MidiEvent.h ****     }
 1346              		.loc 11 255 9 view .LVU379
 255:../../../libDaisy/src/hid/MidiEvent.h ****     }
 1347              		.loc 11 255 9 is_stmt 0 view .LVU380
 1348              	.LBE328:
 1349              	.LBE327:
  79:usbMidi.cpp   ****                     osc.SetFreq(0.0f);
 1350              		.loc 9 79 21 is_stmt 1 view .LVU381
 1351              	.LBB329:
 1352              	.LBI329:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 51


  60:../../../DaisySP/Source/Synthesis/oscillator.h ****     {
 1353              		.loc 6 60 17 view .LVU382
 1354              	.LBB330:
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1355              		.loc 6 62 9 view .LVU383
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1356              		.loc 6 62 20 is_stmt 0 view .LVU384
 1357 0154 9FED120A 		vldr.32	s0, .L100+40
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1358              		.loc 6 63 34 view .LVU385
 1359 0158 0948     		ldr	r0, .L100+8
  62:../../../DaisySP/Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1360              		.loc 6 62 20 view .LVU386
 1361 015a 85ED020A 		vstr.32	s0, [r5, #8]
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1362              		.loc 6 63 9 is_stmt 1 view .LVU387
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1363              		.loc 6 63 34 is_stmt 0 view .LVU388
 1364 015e FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1365              	.LVL110:
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1366              		.loc 6 63 20 view .LVU389
 1367 0162 85ED080A 		vstr.32	s0, [r5, #32]
 1368              	.LVL111:
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1369              		.loc 6 63 20 view .LVU390
 1370 0166 AAE7     		b	.L83
 1371              	.LVL112:
 1372              	.L99:
  63:../../../DaisySP/Source/Synthesis/oscillator.h ****     }
 1373              		.loc 6 63 20 view .LVU391
 1374              	.LBE330:
 1375              	.LBE329:
 1376              	.LBE326:
 1377              	.LBE332:
 1378              	.LBE334:
 1379              	.LBB335:
 1380              	.LBB289:
 126:../../../libDaisy/src/hid/midi.h ****             StartReceive();
 1381              		.loc 7 126 31 view .LVU392
 1382 0168 0948     		ldr	r0, .L100+24
 125:../../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 1383              		.loc 7 125 21 view .LVU393
 1384 016a 3371     		strb	r3, [r6, #4]
 126:../../../libDaisy/src/hid/midi.h ****             StartReceive();
 1385              		.loc 7 126 31 view .LVU394
 1386 016c FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7FlushRxEv
 1387              	.LVL113:
 1388              	.LBB287:
 1389              	.LBI287:
 107:../../../libDaisy/src/hid/midi.h **** 
 1390              		.loc 7 107 10 is_stmt 1 view .LVU395
 1391              	.LBB288:
 107:../../../libDaisy/src/hid/midi.h **** 
 1392              		.loc 7 107 45 is_stmt 0 view .LVU396
 1393 0170 0748     		ldr	r0, .L100+24
 1394 0172 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7StartRxEv
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 52


 1395              	.LVL114:
 107:../../../libDaisy/src/hid/midi.h **** 
 1396              		.loc 7 107 49 view .LVU397
 1397 0176 A2E7     		b	.L83
 1398              	.L101:
 1399              		.align	2
 1400              	.L100:
 1401 0178 00000000 		.word	midi
 1402 017c 00000000 		.word	.LANCHOR1
 1403 0180 00000000 		.word	.LANCHOR0
 1404 0184 0000C842 		.word	1120403456
 1405 0188 DB0F4940 		.word	1078530011
 1406 018c 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 1407 0190 A8900000 		.word	midi+37032
 1408 0194 00008A42 		.word	1116340224
 1409 0198 0000DC43 		.word	1138491392
 1410 019c 0000FE42 		.word	1123942400
 1411 01a0 00000000 		.word	0
 1412              	.LBE288:
 1413              	.LBE287:
 1414              	.LBE289:
 1415              	.LBE335:
 1416              	.LBE337:
 1417              		.cfi_endproc
 1418              	.LFE4790:
 1420              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 1421              		.align	1
 1422              		.p2align 2,,3
 1423              		.syntax unified
 1424              		.thumb
 1425              		.thumb_func
 1427              	_GLOBAL__sub_I_hw:
 1428              	.LFB5372:
  80:usbMidi.cpp   ****                 }
  81:usbMidi.cpp   ****                     // Since we only care about note-on messages in this example
  82:usbMidi.cpp   ****                     // we'll ignore all other message types
  83:usbMidi.cpp   ****                 default: break;
  84:usbMidi.cpp   ****             }
  85:usbMidi.cpp   ****         }
  86:usbMidi.cpp   ****     }
  87:usbMidi.cpp   **** }
 1429              		.loc 9 87 1 is_stmt 1 view -0
 1430              		.cfi_startproc
 1431              		@ args = 0, pretend = 0, frame = 0
 1432              		@ frame_needed = 0, uses_anonymous_args = 0
 1433              	.LBB369:
 1434              	.LBI369:
 1435              		.loc 9 87 1 view .LVU399
 1436              	.LVL115:
 1437              	.LBB370:
 1438              	.LBB371:
 1439              	.LBI371:
  21:../../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 1440              		.loc 1 21 5 view .LVU400
 1441              	.LBB372:
 1442              	.LBB373:
 1443              	.LBI373:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 53


 1444              		.file 13 "../../../libDaisy/src/per/qspi.h"
   1:../../../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../../libDaisy/src/per/qspi.h **** 
   4:../../../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../../libDaisy/src/per/qspi.h **** 
   6:../../../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../../../libDaisy/src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../../libDaisy/src/per/qspi.h **** 
   9:../../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  11:../../../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  14:../../../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  17:../../../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../../libDaisy/src/per/qspi.h **** 
  19:../../../libDaisy/src/per/qspi.h **** namespace daisy
  20:../../../libDaisy/src/per/qspi.h **** {
  21:../../../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  22:../../../libDaisy/src/per/qspi.h **** @{
  23:../../../libDaisy/src/per/qspi.h **** */
  24:../../../libDaisy/src/per/qspi.h **** 
  25:../../../libDaisy/src/per/qspi.h **** /** 
  26:../../../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../../libDaisy/src/per/qspi.h ****     * IS25LP080D
  29:../../../libDaisy/src/per/qspi.h **** */
  30:../../../libDaisy/src/per/qspi.h **** class QSPIHandle
  31:../../../libDaisy/src/per/qspi.h **** {
  32:../../../libDaisy/src/per/qspi.h ****   public:
  33:../../../libDaisy/src/per/qspi.h ****     enum Result
  34:../../../libDaisy/src/per/qspi.h ****     {
  35:../../../libDaisy/src/per/qspi.h ****         OK = 0,
  36:../../../libDaisy/src/per/qspi.h ****         ERR
  37:../../../libDaisy/src/per/qspi.h ****     };
  38:../../../libDaisy/src/per/qspi.h **** 
  39:../../../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../../libDaisy/src/per/qspi.h ****          * 
  43:../../../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../../libDaisy/src/per/qspi.h ****          */
  48:../../../libDaisy/src/per/qspi.h ****     enum Status
  49:../../../libDaisy/src/per/qspi.h ****     {
  50:../../../libDaisy/src/per/qspi.h ****         GOOD = 0,
  51:../../../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  52:../../../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  54:../../../libDaisy/src/per/qspi.h ****     };
  55:../../../libDaisy/src/per/qspi.h **** 
  56:../../../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 54


  57:../../../libDaisy/src/per/qspi.h ****     struct Config
  58:../../../libDaisy/src/per/qspi.h ****     {
  59:../../../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../../libDaisy/src/per/qspi.h ****         enum Device
  61:../../../libDaisy/src/per/qspi.h ****         {
  62:../../../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../../libDaisy/src/per/qspi.h ****         };
  66:../../../libDaisy/src/per/qspi.h **** 
  67:../../../libDaisy/src/per/qspi.h ****         /** 
  68:../../../libDaisy/src/per/qspi.h ****         Modes of operation.
  69:../../../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  72:../../../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../../libDaisy/src/per/qspi.h ****         */
  74:../../../libDaisy/src/per/qspi.h ****         enum Mode
  75:../../../libDaisy/src/per/qspi.h ****         {
  76:../../../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../../libDaisy/src/per/qspi.h ****             MODE_LAST,
  79:../../../libDaisy/src/per/qspi.h ****         };
  80:../../../libDaisy/src/per/qspi.h **** 
  81:../../../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../../libDaisy/src/per/qspi.h ****         struct
  83:../../../libDaisy/src/per/qspi.h ****         {
  84:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../../libDaisy/src/per/qspi.h ****         } pin_config;
  91:../../../libDaisy/src/per/qspi.h **** 
  92:../../../libDaisy/src/per/qspi.h ****         Device device;
  93:../../../libDaisy/src/per/qspi.h ****         Mode   mode;
  94:../../../libDaisy/src/per/qspi.h ****     };
  95:../../../libDaisy/src/per/qspi.h **** 
  96:../../../libDaisy/src/per/qspi.h ****     /** 
  97:../../../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../../libDaisy/src/per/qspi.h ****         */
 101:../../../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 102:../../../libDaisy/src/per/qspi.h **** 
 103:../../../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 104:../../../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../../libDaisy/src/per/qspi.h **** 
 106:../../../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../../libDaisy/src/per/qspi.h ****     /** 
 109:../../../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 110:../../../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../../libDaisy/src/per/qspi.h ****         */
 113:../../../libDaisy/src/per/qspi.h ****     Result DeInit();
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 55


 114:../../../libDaisy/src/per/qspi.h **** 
 115:../../../libDaisy/src/per/qspi.h ****     /** 
 116:../../../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 119:../../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 120:../../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 121:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../../libDaisy/src/per/qspi.h ****         */
 123:../../../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../../libDaisy/src/per/qspi.h **** 
 125:../../../libDaisy/src/per/qspi.h ****     /** 
 126:../../../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 128:../../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 129:../../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 130:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../../libDaisy/src/per/qspi.h ****         */
 132:../../../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../../libDaisy/src/per/qspi.h **** 
 134:../../../libDaisy/src/per/qspi.h ****     /** 
 135:../../../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../../libDaisy/src/per/qspi.h ****         */
 142:../../../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../../libDaisy/src/per/qspi.h **** 
 144:../../../libDaisy/src/per/qspi.h ****     /**  
 145:../../../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 148:../../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../../libDaisy/src/per/qspi.h ****         */
 150:../../../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../../libDaisy/src/per/qspi.h **** 
 152:../../../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../../libDaisy/src/per/qspi.h ****      *  \returns Status
 154:../../../libDaisy/src/per/qspi.h ****      */
 155:../../../libDaisy/src/per/qspi.h ****     Status GetStatus();
 156:../../../libDaisy/src/per/qspi.h **** 
 157:../../../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../../libDaisy/src/per/qspi.h ****      * 
 161:../../../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 163:../../../libDaisy/src/per/qspi.h ****     */
 164:../../../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../../libDaisy/src/per/qspi.h **** 
 166:../../../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 1445              		.loc 13 166 5 view .LVU401
 1446              	.LBE373:
 1447              	.LBE372:
 1448              	.LBE371:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 56


 1449              	.LBE370:
 1450              	.LBE369:
 1451              		.loc 9 87 1 is_stmt 0 view .LVU402
 1452 0000 38B5     		push	{r3, r4, r5, lr}
 1453              		.cfi_def_cfa_offset 16
 1454              		.cfi_offset 3, -16
 1455              		.cfi_offset 4, -12
 1456              		.cfi_offset 5, -8
 1457              		.cfi_offset 14, -4
 1458              	.LBB421:
 1459              	.LBB419:
 1460              	.LBB391:
 1461              	.LBB389:
 1462              	.LBB378:
 1463              	.LBB374:
 1464              	.LBB375:
 1465              		.loc 13 166 34 view .LVU403
 1466 0002 1248     		ldr	r0, .L104
 1467 0004 0024     		movs	r4, #0
 1468              	.LBE375:
 1469              	.LBE374:
 1470              	.LBE378:
 1471              	.LBE389:
 1472              	.LBE391:
  15:usbMidi.cpp   **** MidiUsbHandler midi;
 1473              		.loc 9 15 16 view .LVU404
 1474 0006 124A     		ldr	r2, .L104+4
 1475 0008 1249     		ldr	r1, .L104+8
 1476              	.LBB392:
 1477              	.LBB390:
 1478              	.LBB379:
 1479              	.LBB377:
 1480              	.LBB376:
 1481              		.loc 13 166 34 view .LVU405
 1482 000a 0460     		str	r4, [r0]
 1483              	.LVL116:
 1484              		.loc 13 166 34 view .LVU406
 1485              	.LBE376:
 1486              	.LBE377:
 1487              	.LBE379:
 1488              	.LBB380:
 1489              	.LBI380:
  95:../../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1490              		.loc 5 95 5 is_stmt 1 view .LVU407
 1491              	.LBB381:
 1492              	.LBB382:
  95:../../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1493              		.loc 5 95 35 is_stmt 0 view .LVU408
 1494 000c 4461     		str	r4, [r0, #20]
 1495              	.LVL117:
  95:../../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1496              		.loc 5 95 35 view .LVU409
 1497              	.LBE382:
 1498              	.LBE381:
 1499              	.LBE380:
 1500              	.LBB383:
 1501              	.LBI383:
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 57


  92:../../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 1502              		.loc 4 92 5 is_stmt 1 view .LVU410
  92:../../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 1503              		.loc 4 92 5 is_stmt 0 view .LVU411
 1504              	.LBE383:
 1505              	.LBB384:
 1506              	.LBI384:
 1507              		.file 14 "../../../libDaisy/src/per/dac.h"
   1:../../../libDaisy/src/per/dac.h **** #pragma once
   2:../../../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../../libDaisy/src/per/dac.h **** 
   5:../../../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../../../libDaisy/src/per/dac.h **** 
   7:../../../libDaisy/src/per/dac.h **** namespace daisy
   8:../../../libDaisy/src/per/dac.h **** {
   9:../../../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../../../libDaisy/src/per/dac.h ****  ** 
  12:../../../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../../libDaisy/src/per/dac.h ****  **
  15:../../../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../../libDaisy/src/per/dac.h ****  **
  17:../../../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../../libDaisy/src/per/dac.h ****  ***/
  21:../../../libDaisy/src/per/dac.h **** class DacHandle
  22:../../../libDaisy/src/per/dac.h **** {
  23:../../../libDaisy/src/per/dac.h ****   public:
  24:../../../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../../libDaisy/src/per/dac.h ****     enum class Result
  26:../../../libDaisy/src/per/dac.h ****     {
  27:../../../libDaisy/src/per/dac.h ****         OK,
  28:../../../libDaisy/src/per/dac.h ****         ERR,
  29:../../../libDaisy/src/per/dac.h ****     };
  30:../../../libDaisy/src/per/dac.h **** 
  31:../../../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../../libDaisy/src/per/dac.h ****     enum class Channel
  33:../../../libDaisy/src/per/dac.h ****     {
  34:../../../libDaisy/src/per/dac.h ****         ONE,
  35:../../../libDaisy/src/per/dac.h ****         TWO,
  36:../../../libDaisy/src/per/dac.h ****         BOTH,
  37:../../../libDaisy/src/per/dac.h ****     };
  38:../../../libDaisy/src/per/dac.h **** 
  39:../../../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../../libDaisy/src/per/dac.h ****      **
  41:../../../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../../libDaisy/src/per/dac.h ****      **
  43:../../../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../../libDaisy/src/per/dac.h ****      ***/
  46:../../../libDaisy/src/per/dac.h ****     enum class Mode
  47:../../../libDaisy/src/per/dac.h ****     {
  48:../../../libDaisy/src/per/dac.h ****         POLLING,
  49:../../../libDaisy/src/per/dac.h ****         DMA,
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 58


  50:../../../libDaisy/src/per/dac.h ****     };
  51:../../../libDaisy/src/per/dac.h **** 
  52:../../../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../../libDaisy/src/per/dac.h ****      ***/
  56:../../../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../../../libDaisy/src/per/dac.h ****     {
  58:../../../libDaisy/src/per/dac.h ****         BITS_8,
  59:../../../libDaisy/src/per/dac.h ****         BITS_12
  60:../../../libDaisy/src/per/dac.h ****     };
  61:../../../libDaisy/src/per/dac.h **** 
  62:../../../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../../../libDaisy/src/per/dac.h ****     {
  65:../../../libDaisy/src/per/dac.h ****         ENABLED,
  66:../../../libDaisy/src/per/dac.h ****         DISABLED,
  67:../../../libDaisy/src/per/dac.h ****     };
  68:../../../libDaisy/src/per/dac.h **** 
  69:../../../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../../libDaisy/src/per/dac.h ****     struct Config
  71:../../../libDaisy/src/per/dac.h ****     {
  72:../../../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../../../libDaisy/src/per/dac.h **** 
  78:../../../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../../../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../../../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../../../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../../../libDaisy/src/per/dac.h ****     };
  83:../../../libDaisy/src/per/dac.h **** 
  84:../../../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 1508              		.loc 14 84 5 is_stmt 1 view .LVU412
 1509              	.LBB385:
 1510              	.LBB386:
 1511              		.loc 14 84 33 is_stmt 0 view .LVU413
 1512 000e 0462     		str	r4, [r0, #32]
 1513              	.LVL118:
 1514              		.loc 14 84 33 view .LVU414
 1515              	.LBE386:
 1516              	.LBE385:
 1517              	.LBE384:
 1518              	.LBB387:
 1519              	.LBI387:
  40:../../../libDaisy/src/hid/usb.h **** 
 1520              		.loc 3 40 5 is_stmt 1 view .LVU415
  40:../../../libDaisy/src/hid/usb.h **** 
 1521              		.loc 3 40 5 is_stmt 0 view .LVU416
 1522              	.LBE387:
 1523              	.LBB388:
 1524              	.LBI388:
  77:../../../libDaisy/src/sys/system.h ****     ~System() {}
 1525              		.loc 2 77 5 is_stmt 1 view .LVU417
  77:../../../libDaisy/src/sys/system.h ****     ~System() {}
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 59


 1526              		.loc 2 77 5 is_stmt 0 view .LVU418
 1527              	.LBE388:
 1528              	.LBE390:
 1529              	.LBE392:
  15:usbMidi.cpp   **** MidiUsbHandler midi;
 1530              		.loc 9 15 16 view .LVU419
 1531 0010 FFF7FEFF 		bl	__aeabi_atexit
 1532              	.LVL119:
 1533              	.LBB393:
 1534              	.LBI393:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1535              		.loc 7 84 5 is_stmt 1 view .LVU420
 1536              	.LBB394:
 1537              	.LBB395:
 1538              	.LBB396:
 1539              	.LBI396:
 1540              		.file 15 "../../../libDaisy/src/per/uart.h"
   1:../../../libDaisy/src/per/uart.h **** /* 
   2:../../../libDaisy/src/per/uart.h **** TODO
   3:../../../libDaisy/src/per/uart.h **** - UART1 defaults to DMA, add flexible config for DMA on all periphs
   4:../../../libDaisy/src/per/uart.h **** - Transmit function improvements.
   5:../../../libDaisy/src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   6:../../../libDaisy/src/per/uart.h **** */
   7:../../../libDaisy/src/per/uart.h **** 
   8:../../../libDaisy/src/per/uart.h **** #pragma once
   9:../../../libDaisy/src/per/uart.h **** #ifndef DSY_UART_H
  10:../../../libDaisy/src/per/uart.h **** #define DSY_UART_H /**< macro */
  11:../../../libDaisy/src/per/uart.h **** #include "daisy_core.h"
  12:../../../libDaisy/src/per/uart.h **** 
  13:../../../libDaisy/src/per/uart.h **** 
  14:../../../libDaisy/src/per/uart.h **** namespace daisy
  15:../../../libDaisy/src/per/uart.h **** {
  16:../../../libDaisy/src/per/uart.h **** /** @addtogroup serial
  17:../../../libDaisy/src/per/uart.h ****     @{
  18:../../../libDaisy/src/per/uart.h ****     */
  19:../../../libDaisy/src/per/uart.h **** 
  20:../../../libDaisy/src/per/uart.h **** /** 
  21:../../../libDaisy/src/per/uart.h ****     Uart Peripheral
  22:../../../libDaisy/src/per/uart.h ****     @author shensley
  23:../../../libDaisy/src/per/uart.h ****     @date March 2020
  24:../../../libDaisy/src/per/uart.h ****     */
  25:../../../libDaisy/src/per/uart.h **** class UartHandler
  26:../../../libDaisy/src/per/uart.h **** {
  27:../../../libDaisy/src/per/uart.h ****   public:
  28:../../../libDaisy/src/per/uart.h ****     struct Config
  29:../../../libDaisy/src/per/uart.h ****     {
  30:../../../libDaisy/src/per/uart.h ****         enum class Peripheral
  31:../../../libDaisy/src/per/uart.h ****         {
  32:../../../libDaisy/src/per/uart.h ****             USART_1,
  33:../../../libDaisy/src/per/uart.h ****             USART_2,
  34:../../../libDaisy/src/per/uart.h ****             USART_3,
  35:../../../libDaisy/src/per/uart.h ****             UART_4,
  36:../../../libDaisy/src/per/uart.h ****             UART_5,
  37:../../../libDaisy/src/per/uart.h ****             USART_6,
  38:../../../libDaisy/src/per/uart.h ****             UART_7,
  39:../../../libDaisy/src/per/uart.h ****             UART_8,
  40:../../../libDaisy/src/per/uart.h ****             LPUART_1,
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 60


  41:../../../libDaisy/src/per/uart.h ****         };
  42:../../../libDaisy/src/per/uart.h **** 
  43:../../../libDaisy/src/per/uart.h ****         enum class StopBits
  44:../../../libDaisy/src/per/uart.h ****         {
  45:../../../libDaisy/src/per/uart.h ****             BITS_0_5,
  46:../../../libDaisy/src/per/uart.h ****             BITS_1,
  47:../../../libDaisy/src/per/uart.h ****             BITS_1_5,
  48:../../../libDaisy/src/per/uart.h ****             BITS_2,
  49:../../../libDaisy/src/per/uart.h ****         };
  50:../../../libDaisy/src/per/uart.h **** 
  51:../../../libDaisy/src/per/uart.h ****         enum class Parity
  52:../../../libDaisy/src/per/uart.h ****         {
  53:../../../libDaisy/src/per/uart.h ****             NONE,
  54:../../../libDaisy/src/per/uart.h ****             EVEN,
  55:../../../libDaisy/src/per/uart.h ****             ODD,
  56:../../../libDaisy/src/per/uart.h ****         };
  57:../../../libDaisy/src/per/uart.h **** 
  58:../../../libDaisy/src/per/uart.h ****         enum class Mode
  59:../../../libDaisy/src/per/uart.h ****         {
  60:../../../libDaisy/src/per/uart.h ****             RX,
  61:../../../libDaisy/src/per/uart.h ****             TX,
  62:../../../libDaisy/src/per/uart.h ****             TX_RX,
  63:../../../libDaisy/src/per/uart.h ****         };
  64:../../../libDaisy/src/per/uart.h **** 
  65:../../../libDaisy/src/per/uart.h ****         enum class WordLength
  66:../../../libDaisy/src/per/uart.h ****         {
  67:../../../libDaisy/src/per/uart.h ****             BITS_7,
  68:../../../libDaisy/src/per/uart.h ****             BITS_8,
  69:../../../libDaisy/src/per/uart.h ****             BITS_9,
  70:../../../libDaisy/src/per/uart.h ****         };
  71:../../../libDaisy/src/per/uart.h **** 
  72:../../../libDaisy/src/per/uart.h ****         struct
  73:../../../libDaisy/src/per/uart.h ****         {
  74:../../../libDaisy/src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  75:../../../libDaisy/src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  76:../../../libDaisy/src/per/uart.h ****         } pin_config;        /**< & */
  77:../../../libDaisy/src/per/uart.h **** 
  78:../../../libDaisy/src/per/uart.h ****         Config()
  79:../../../libDaisy/src/per/uart.h ****         {
  80:../../../libDaisy/src/per/uart.h ****             // user must init periph, pin_config, and mode
  81:../../../libDaisy/src/per/uart.h ****             stopbits   = StopBits::BITS_1;
  82:../../../libDaisy/src/per/uart.h ****             parity     = Parity::NONE;
  83:../../../libDaisy/src/per/uart.h ****             wordlength = WordLength::BITS_8;
  84:../../../libDaisy/src/per/uart.h ****             baudrate   = 4800;
  85:../../../libDaisy/src/per/uart.h ****             // baudrate   = 31250;
  86:../../../libDaisy/src/per/uart.h ****         }
  87:../../../libDaisy/src/per/uart.h **** 
  88:../../../libDaisy/src/per/uart.h ****         Peripheral periph;
  89:../../../libDaisy/src/per/uart.h ****         StopBits   stopbits;
  90:../../../libDaisy/src/per/uart.h ****         Parity     parity;
  91:../../../libDaisy/src/per/uart.h ****         Mode       mode;
  92:../../../libDaisy/src/per/uart.h ****         WordLength wordlength;
  93:../../../libDaisy/src/per/uart.h ****         uint32_t   baudrate;
  94:../../../libDaisy/src/per/uart.h ****     };
  95:../../../libDaisy/src/per/uart.h **** 
  96:../../../libDaisy/src/per/uart.h **** 
  97:../../../libDaisy/src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 61


 1541              		.loc 15 97 5 view .LVU421
 1542              		.loc 15 97 5 is_stmt 0 view .LVU422
 1543              	.LBE396:
 1544              	.LBB401:
 1545              	.LBI401:
  21:../../../libDaisy/src/util/ringbuffer.h **** 
 1546              		.loc 10 21 5 is_stmt 1 view .LVU423
  21:../../../libDaisy/src/util/ringbuffer.h **** 
 1547              		.loc 10 21 5 is_stmt 0 view .LVU424
 1548              	.LBE401:
 1549              	.LBB402:
 1550              	.LBI402:
  19:../../../libDaisy/src/hid/usb_midi.h **** 
  20:../../../libDaisy/src/hid/usb_midi.h ****     struct Config
  21:../../../libDaisy/src/hid/usb_midi.h ****     {
  22:../../../libDaisy/src/hid/usb_midi.h ****         enum Periph
  23:../../../libDaisy/src/hid/usb_midi.h ****         {
  24:../../../libDaisy/src/hid/usb_midi.h ****             INTERNAL = 0,
  25:../../../libDaisy/src/hid/usb_midi.h ****             EXTERNAL
  26:../../../libDaisy/src/hid/usb_midi.h ****         };
  27:../../../libDaisy/src/hid/usb_midi.h **** 
  28:../../../libDaisy/src/hid/usb_midi.h ****         Periph periph;
  29:../../../libDaisy/src/hid/usb_midi.h ****     };
  30:../../../libDaisy/src/hid/usb_midi.h **** 
  31:../../../libDaisy/src/hid/usb_midi.h ****     void Init(Config config);
  32:../../../libDaisy/src/hid/usb_midi.h **** 
  33:../../../libDaisy/src/hid/usb_midi.h ****     void    StartRx();
  34:../../../libDaisy/src/hid/usb_midi.h ****     size_t  Readable();
  35:../../../libDaisy/src/hid/usb_midi.h ****     uint8_t Rx();
  36:../../../libDaisy/src/hid/usb_midi.h ****     bool    RxActive();
  37:../../../libDaisy/src/hid/usb_midi.h ****     void    FlushRx();
  38:../../../libDaisy/src/hid/usb_midi.h ****     void    Tx(uint8_t* buffer, size_t size);
  39:../../../libDaisy/src/hid/usb_midi.h **** 
  40:../../../libDaisy/src/hid/usb_midi.h ****     class Impl;
  41:../../../libDaisy/src/hid/usb_midi.h **** 
  42:../../../libDaisy/src/hid/usb_midi.h ****     MidiUsbTransport() : pimpl_(nullptr) {}
 1551              		.loc 8 42 5 is_stmt 1 view .LVU425
 1552              		.loc 8 42 5 is_stmt 0 view .LVU426
 1553              	.LBE402:
 1554              	.LBB407:
 1555              	.LBB397:
 1556              	.LBB398:
 1557              		.loc 15 97 35 view .LVU427
 1558 0014 1048     		ldr	r0, .L104+12
 1559              	.LBE398:
 1560              	.LBE397:
 1561              	.LBE407:
 1562              	.LBE395:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1563              		.loc 7 84 5 view .LVU428
 1564 0016 114D     		ldr	r5, .L104+16
 1565 0018 4FF60F01 		movw	r1, #63503
 1566              	.LBB411:
 1567              	.LBB408:
 1568              	.LBB403:
 1569              	.LBB404:
 1570              		.loc 8 42 40 view .LVU429
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 62


 1571 001c 00F51043 		add	r3, r0, #36864
 1572              	.LBE404:
 1573              	.LBE403:
 1574              	.LBE408:
 1575              	.LBB409:
 1576              	.LBB400:
 1577              	.LBB399:
 1578              		.loc 15 97 35 view .LVU430
 1579 0020 0460     		str	r4, [r0]
 1580              	.LBE399:
 1581              	.LBE400:
 1582              	.LBE409:
 1583              	.LBE411:
 1584              	.LBE394:
 1585              	.LBE393:
  16:usbMidi.cpp   **** Oscillator     osc;
 1586              		.loc 9 16 16 view .LVU431
 1587 0022 0B4A     		ldr	r2, .L104+4
 1588              	.LBB416:
 1589              	.LBB414:
 1590              	.LBB412:
 1591              	.LBB410:
 1592              	.LBB406:
 1593              	.LBB405:
 1594              		.loc 8 42 40 view .LVU432
 1595 0024 C3F8A840 		str	r4, [r3, #168]
 1596              	.LBE405:
 1597              	.LBE406:
 1598              	.LBE410:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1599              		.loc 7 84 19 view .LVU433
 1600 0028 0724     		movs	r4, #7
 1601              	.LBE412:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1602              		.loc 7 84 5 view .LVU434
 1603 002a A3F8B010 		strh	r1, [r3, #176]	@ movhi
 1604 002e C3F8AC50 		str	r5, [r3, #172]
 1605              	.LBE414:
 1606              	.LBE416:
  16:usbMidi.cpp   **** Oscillator     osc;
 1607              		.loc 9 16 16 view .LVU435
 1608 0032 0B49     		ldr	r1, .L104+20
 1609              	.LBB417:
 1610              	.LBB415:
 1611              	.LBB413:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1612              		.loc 7 84 19 view .LVU436
 1613 0034 83F8B240 		strb	r4, [r3, #178]
 1614              	.LVL120:
  84:../../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1615              		.loc 7 84 19 view .LVU437
 1616              	.LBE413:
 1617              	.LBE415:
 1618              	.LBE417:
  16:usbMidi.cpp   **** Oscillator     osc;
 1619              		.loc 9 16 16 view .LVU438
 1620 0038 FFF7FEFF 		bl	__aeabi_atexit
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 63


 1621              	.LVL121:
 1622              	.LBB418:
 1623              	.LBI418:
  15:../../../DaisySP/Source/Synthesis/oscillator.h ****     ~Oscillator() {}
 1624              		.loc 6 15 5 is_stmt 1 view .LVU439
  15:../../../DaisySP/Source/Synthesis/oscillator.h ****     ~Oscillator() {}
 1625              		.loc 6 15 5 is_stmt 0 view .LVU440
 1626              	.LBE418:
  17:usbMidi.cpp   **** 
 1627              		.loc 9 17 16 view .LVU441
 1628 003c 044A     		ldr	r2, .L104+4
 1629 003e 0949     		ldr	r1, .L104+24
 1630 0040 0948     		ldr	r0, .L104+28
 1631              	.LBE419:
 1632              	.LBE421:
 1633              		.loc 9 87 1 view .LVU442
 1634 0042 BDE83840 		pop	{r3, r4, r5, lr}
 1635              		.cfi_restore 14
 1636              		.cfi_restore 5
 1637              		.cfi_restore 4
 1638              		.cfi_restore 3
 1639              		.cfi_def_cfa_offset 0
 1640              	.LBB422:
 1641              	.LBB420:
  17:usbMidi.cpp   **** 
 1642              		.loc 9 17 16 view .LVU443
 1643 0046 FFF7FEBF 		b	__aeabi_atexit
 1644              	.LVL122:
 1645              	.L105:
 1646 004a 00BF     		.align	2
 1647              	.L104:
 1648 004c 00000000 		.word	.LANCHOR1
 1649 0050 00000000 		.word	__dso_handle
 1650 0054 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 1651 0058 00000000 		.word	midi
 1652 005c 80707FF0 		.word	-260083584
 1653 0060 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 1654 0064 00000000 		.word	_ZN7daisysp10OscillatorD1Ev
 1655 0068 00000000 		.word	.LANCHOR0
 1656              	.LBE420:
 1657              	.LBE422:
 1658              		.cfi_endproc
 1659              	.LFE5372:
 1661              		.section	.init_array,"aw",%init_array
 1662              		.align	2
 1663 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 1664              		.global	osc
 1665              		.global	midi
 1666              		.global	hw
 1667              		.section	.bss.hw,"aw",%nobits
 1668              		.align	2
 1669              		.set	.LANCHOR1,. + 0
 1672              	hw:
 1673 0000 00000000 		.space	60
 1673      00000000 
 1673      00000000 
 1673      00000000 
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 64


 1673      00000000 
 1674              		.section	.bss.midi,"aw",%nobits
 1675              		.align	2
 1678              	midi:
 1679 0000 00000000 		.space	37044
 1679      00000000 
 1679      00000000 
 1679      00000000 
 1679      00000000 
 1680              		.section	.bss.osc,"aw",%nobits
 1681              		.align	2
 1682              		.set	.LANCHOR0,. + 0
 1685              	osc:
 1686 0000 00000000 		.space	48
 1686      00000000 
 1686      00000000 
 1686      00000000 
 1686      00000000 
 1687              		.text
 1688              	.Letext0:
 1689              		.file 16 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 1690              		.file 17 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 1691              		.file 18 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 1692              		.file 19 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 1693              		.file 20 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 1694              		.file 21 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 1695              		.file 22 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 1696              		.file 23 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 1697              		.file 24 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 1698              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 1699              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 1700              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 1701              		.file 28 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 1702              		.file 29 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 1703              		.file 30 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 1704              		.file 31 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 1705              		.file 32 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 1706              		.file 33 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cwchar"
 1707              		.file 34 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/clocale"
 1708              		.file 35 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/basic_string.h"
 1709              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_iterator.h"
 1710              		.file 37 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
 1711              		.file 38 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 1712              		.file 39 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 1713              		.file 40 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 1714              		.file 41 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 1715              		.file 42 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 1716              		.file 43 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 1717              		.file 44 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 1718              		.file 45 "../../../libDaisy/src/daisy_core.h"
 1719              		.file 46 "../../../libDaisy/src/per/tim.h"
 1720              		.file 47 "../../../libDaisy/src/per/sai.h"
 1721              		.file 48 "../../../libDaisy/src/util/wav_format.h"
 1722              		.file 49 "../../../libDaisy/src/dev/max11300.h"
 1723              		.file 50 "../../../libDaisy/src/per/gpio.h"
 1724              		.file 51 "../../../libDaisy/src/dev/sdram.h"
 1725              		.file 52 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 65


 1726              		.file 53 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 1727              		.file 54 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 1728              		.file 55 "../../../DaisySP/Source/Control/adenv.h"
 1729              		.file 56 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/wchar.h"
 1730              		.file 57 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/locale.h"
 1731              		.file 58 "<built-in>"
 1732              		.file 59 "../../../libDaisy/src/dev/sr_595.h"
ARM GAS  /var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s 			page 66


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbMidi.cpp
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:19     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:26     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD2Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:26     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD1Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:67     .text._ZN7daisysp10OscillatorD2Ev:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:74     .text._ZN7daisysp10OscillatorD2Ev:0000000000000000 _ZN7daisysp10OscillatorD2Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:74     .text._ZN7daisysp10OscillatorD2Ev:0000000000000000 _ZN7daisysp10OscillatorD1Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:91     .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:98     .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:98     .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:121    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:128    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 _Z13AudioCallbackPKPKfPPfj
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:201    .text._Z13AudioCallbackPKPKfPPfj:0000000000000034 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:206    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:213    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:292    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000050 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:296    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE5ParseEh:0000000000000054 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:873    .text.startup.main:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:880    .text.startup.main:0000000000000000 main
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1401   .text.startup.main:0000000000000178 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1678   .bss.midi:0000000000000000 midi
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1421   .text.startup._GLOBAL__sub_I_hw:0000000000000000 $t
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1427   .text.startup._GLOBAL__sub_I_hw:0000000000000000 _GLOBAL__sub_I_hw
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1648   .text.startup._GLOBAL__sub_I_hw:000000000000004c $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1662   .init_array:0000000000000000 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1685   .bss.osc:0000000000000000 osc
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1672   .bss.hw:0000000000000000 hw
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1668   .bss.hw:0000000000000000 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1675   .bss.midi:0000000000000000 $d
/var/folders/yw/6_x9gyn52jjg4jtn_wsryx_80000gp/T//ccrl1ThP.s:1681   .bss.osc:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy9DaisySeedD5Ev
                           .group:0000000000000000 _ZN7daisysp10OscillatorD5Ev
                           .group:0000000000000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED5Ev

UNDEFINED SYMBOLS
_ZN7daisysp10Oscillator7ProcessEv
memcpy
_ZN5daisy9DaisySeed9ConfigureEv
_ZN5daisy9DaisySeed4InitEb
_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
_ZN5daisy9DaisySeed15AudioSampleRateEv
_ZN7daisysp10Oscillator12CalcPhaseIncEf
_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
_ZN5daisy6System6GetNowEv
_ZN5daisy16MidiUsbTransport2RxEv
_ZN5daisy16MidiUsbTransport8ReadableEv
_ZN5daisy16MidiUsbTransport8RxActiveEv
powf
_ZN5daisy16MidiUsbTransport7FlushRxEv
_ZN5daisy16MidiUsbTransport7StartRxEv
__aeabi_atexit
__dso_handle
